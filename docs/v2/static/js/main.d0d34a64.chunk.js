(this.webpackJsonprhm=this.webpackJsonprhm||[]).push([[0],{257:function(e,n,t){},451:function(e,n,t){"use strict";t.r(n);var i=t(0),r=t.n(i),c=t(35),a=t.n(c),d=t(11),s=t(16),o=(t(256),t(257),t(461)),u=t(453),l=t(454),j=t(456),x=t(464),f=t(465),b=t(460),O=t(60),h=t(472),v=t(249),m=t(43),p=t(7),I=t(247),g=t(171),L=t(71),k=t(248),C=t(466),y=t(455),w=t(457),S=t(459),F=t(62),P="afterChange",N="afterChangeNew",V="beforeChange",R="beforeChangeNew",z="customerIndexList",E="description",q="descriptionNew",A="lineup",T="lineupNew",H="name",D="nameNew",B="previous",K="previousNew",G="version",J="invalidSortable",U="actions",W="afterChange",M="beforeChange",_="changes",Q="customers",X="description",Y="dragHandle",Z="history",$="lineup",ee="name",ne="package",te="previous",ie="releases",re="version",ce="versions",ae="(Global)",de="(None)",se="(Error)",oe="Actions",ue="After change",le="Before change",je="Customers",xe="Description",fe="Lineup",be="Package",Oe="Previous",he="Version",ve=t(76);function me(e,n,t,i,r){for(var c=t.find((function(e){return e.index===i})),a=function(){if(!c)return{v:c};var i=c,a=i.indexPrev,s=i.changeList,o=i.releaseList;if(o.find((function(e){return e.customerIndexList.includes(n)})))return"break";o.forEach((function(t){var i=t.customerIndexListPerChangeList;e.unshift.apply(e,Object(d.a)(s.filter((function(e){return i.find((function(t){var i=t.customerIndexList;return e.lineupIndex===r&&(i.includes(n)||i.includes(-1))}))}))))}));for(var u=function(n){var t=e[n];e.slice(0,n).find((function(e){return e.index===t.index}))&&e.splice(n,1)},l=e.length-1;l>=0;l-=1)u(l);c=t.find((function(e){return e.index===a}))};c;){var s=a();if("break"===s)break;if("object"===typeof s)return s.v}return c}function pe(e,n){var t=[],i=e.find((function(e){return e.index===n}));if(!i)return t;t.push(n);var r=i.indexPrev;return t.push.apply(t,Object(d.a)(pe(e,r))),t}function Ie(e){return e.sort((function(e,n){return e-n})).reduce((function(e,n){return n===e?e+1:e}),0)}function ge(e){return e.replace(/^/gm,"    ")}function Le(e,n,t,i,r){var c=t.map((function(e){return e.index})),a=[];return c.forEach((function(t){a.push({lineupIndex:t,releaseHistory:ke(e,n,t,i,r)})})),a.filter((function(e){return e.releaseHistory})).map((function(e){var n=e.lineupIndex,i=e.releaseHistory,r=t.find((function(e){return e.index===n}));if(r){var c=r.name;return"<".concat(c,">\n").concat(ge(i),"\n</").concat(c,">")}return ge(i)})).join("\n")}function ke(e,n,t,i,r){for(var c=e.find((function(e){return e.index===n})),a=r.index,s=[];c;){var o=c,u=o.indexPrev,l=o.changeList,j=o.releaseList.find((function(e){if(!e.customerIndexList.includes(a))return!1;var n=e.pkgIndex;return!!i.find((function(e){return e.lineupIndex===t&&e.index===n}))}));if(j){if("break"===function(){var n=j.customerIndexListPerChangeList,r=j.pkgIndex,o=i.find((function(e){return e.index===r}));if(!o)return"break";var x=o.name,f=o.lineupIndex,b=Object(d.a)(l.filter((function(e){return n.find((function(n){var t=n.customerIndexList;return e.lineupIndex===f&&(t.includes(a)||t.includes(-1))}))})));c=me(b,a,e,u,t),s.unshift({pkgName:x,changeList:b})}())break}else c=void 0}return s.map((function(e,n){var t=e.pkgName,i=e.changeList,r=0===n?"- Initial release":i.map((function(e){var n=e.description,t=e.beforeChange,i=e.afterChange,r=["[Description]",ge(n)];return(t||i)&&r.push("[Enhancement]"),t&&(r.push(ge("[Before change]")),r.push(ge(ge(t)))),i&&(r.push(ge("[After change]")),r.push(ge(ge(i)))),r.join("\n")})).join("\n");return r?"".concat(t,"\n").concat(ge(r)):""})).filter((function(e){return!!e})).join("\n").trim()}var Ce=t(1);function ye(e){var n=e.title,t=e.enumList,r=e.onChange,c=e.usedIndexList,a=Object(F.useForm)(),o=Object(s.a)(a,1)[0],u=Object(i.useState)(-1),l=Object(s.a)(u,2),j=l[0],x=l[1],f=[{key:ee,dataIndex:ee,title:n},{key:U,dataIndex:U,title:oe}].map((function(e){var n=e.dataIndex;return Object(p.a)(Object(p.a)({},e),{},{onCell:function(e){return{record:e,dataIndex:n}}})}));function b(){o.validateFields([H]).then((function(){var e=o.getFieldValue(H);if(!t.find((function(n){return n.name===e}))){var n=Ie(t.map((function(e){return e.index}))),i=[].concat(Object(d.a)(t),[{index:n,name:e}]).sort((function(e,n){return e.name.localeCompare(n.name)}));r(i),o.setFieldsValue({name:""})}})).catch((function(e){console.error(e)}))}function h(){o.validateFields([D]).then((function(){var e=o.getFieldValue(D);if(!t.find((function(n){return n.index!==j&&n.name===e}))){var n=t.findIndex((function(e){return e.index===j}));if(-1!==n){var i=[].concat(Object(d.a)(t.slice(0,n)),[{index:j,name:e}],Object(d.a)(t.slice(n+1)));r(i),x(-1)}}})).catch((function(e){console.error(e)}))}var v=[{key:-1}].concat(Object(d.a)(t.map((function(e){return{key:e.index,name:e.name}}))));return Object(Ce.jsx)(y.a,{columns:f,dataSource:v,components:{body:{cell:function(e){var n=e.record,i=e.dataIndex,a=e.children,s=Object(m.a)(e,["record","dataIndex","children"]),u=n.key;return Object(Ce.jsx)("td",Object(p.a)(Object(p.a)({},s),{},{children:-1===u&&i===ee?Object(Ce.jsx)(w.a,{form:o,onFinish:b,children:Object(Ce.jsx)(w.a.Item,{name:H,rules:[{required:!0}],help:!1,children:Object(Ce.jsx)(S.a,{disabled:-1!==j})})}):-1===u&&i===U?Object(Ce.jsx)(w.a,{form:o,children:Object(Ce.jsx)(w.a.Item,{children:Object(Ce.jsx)(O.a,{onClick:b,disabled:-1!==j,children:Object(Ce.jsx)(I.a,{})})})}):j===u&&i===ee?Object(Ce.jsx)(w.a,{form:o,onFinish:h,children:Object(Ce.jsx)(w.a.Item,{name:D,rules:[{required:!0}],help:!1,children:Object(Ce.jsx)(S.a,{})})}):j===u&&i===U?Object(Ce.jsx)(w.a,{form:o,children:Object(Ce.jsxs)(w.a.Item,{children:[Object(Ce.jsx)(O.a,{onClick:h,children:Object(Ce.jsx)(g.a,{})}),Object(Ce.jsx)(O.a,{onClick:function(){return x(-1)},children:Object(Ce.jsx)(L.a,{})})]})}):i===ee?a:i===U?Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)(O.a,{onClick:function(){return function(e){var n=t.find((function(n){return n.index===e}));n&&(o.setFieldsValue({nameNew:n.name}),x(e))}(u)},children:Object(Ce.jsx)(k.a,{})}),Object(Ce.jsx)(O.a,{onClick:function(){return function(e){if(!c||!c.includes(e)){var n=t.findIndex((function(n){return n.index===e}));if(-1!==n){var i=[].concat(Object(d.a)(t.slice(0,n)),Object(d.a)(t.slice(n+1)));r(i)}}}(u)},disabled:null===c||void 0===c?void 0:c.includes(u),children:Object(Ce.jsx)(C.a,{})})]}):null}))}}},pagination:!1,size:"small"})}var we=t(133),Se=we.a.Option;function Fe(e){var n=e.pkgList,t=e.lineupList,r=e.onChange,c=e.usedPkgIndexList,a=Object(F.useForm)(),o=Object(s.a)(a,1)[0],u=Object(i.useState)(-1),l=Object(s.a)(u,2),j=l[0],x=l[1];Object(i.useEffect)((function(){x(-1)}),[t]);var f=[{key:ne,dataIndex:ne,title:be},{key:$,dataIndex:$,title:fe},{key:U,dataIndex:U,title:oe}].map((function(e){var n=e.dataIndex;return Object(p.a)(Object(p.a)({},e),{},{onCell:function(e){return{record:e,dataIndex:n}}})}));function b(){o.validateFields([H,A]).then((function(){var e=o.getFieldsValue([H,A]),t=e.name,i=e.lineup;if(!n.find((function(e){return e.name===t}))){var c=Ie(n.map((function(e){return e.index}))),a=[].concat(Object(d.a)(n),[{index:c,name:t,lineupIndex:i}]).sort((function(e,n){return e.name.localeCompare(n.name)}));r(a),o.setFieldsValue({name:"",lineup:-1})}})).catch((function(e){console.error(e)}))}function h(){o.validateFields([D]).then((function(){var e=o.getFieldsValue([D,T]),t=e.nameNew,i=e.lineupNew;if(!n.find((function(e){return e.index!==j&&e.name===t}))){var c=n.findIndex((function(e){return e.index===j}));if(-1!==c){var a=[].concat(Object(d.a)(n.slice(0,c)),[{index:j,name:t,lineupIndex:i}],Object(d.a)(n.slice(c+1)));r(a),x(-1)}}})).catch((function(e){console.error(e)}))}var v=[{key:-1}].concat(Object(d.a)(n.map((function(e){return{key:e.index,package:e.name,lineup:e.lineupIndex}}))));return Object(Ce.jsx)(y.a,{columns:f,dataSource:v,components:{body:{cell:function(e){var i,a,s=e.record,u=e.dataIndex,l=e.children,f=Object(m.a)(e,["record","dataIndex","children"]),v=s.key,y=s.lineup;return Object(Ce.jsx)("td",Object(p.a)(Object(p.a)({},f),{},{children:-1===v&&u===ne?Object(Ce.jsx)(w.a,{form:o,onFinish:b,children:Object(Ce.jsx)(w.a.Item,{name:H,rules:[{required:!0}],help:!1,children:Object(Ce.jsx)(S.a,{disabled:-1!==j})})}):-1===v&&u===$?Object(Ce.jsx)(w.a,{form:o,children:Object(Ce.jsx)(w.a.Item,{name:A,initialValue:-1,children:Object(Ce.jsxs)(we.a,{disabled:-1!==j,children:[Object(Ce.jsx)(Se,{value:-1,children:de},-1),t.map((function(e){var n=e.index,t=e.name;return Object(Ce.jsx)(Se,{value:n,children:t},n)}))]})})}):-1===v&&u===U?Object(Ce.jsx)(w.a,{form:o,children:Object(Ce.jsx)(w.a.Item,{children:Object(Ce.jsx)(O.a,{onClick:b,disabled:-1!==j,children:Object(Ce.jsx)(I.a,{})})})}):j===v&&u===ne?Object(Ce.jsx)(w.a,{form:o,children:Object(Ce.jsx)(w.a.Item,{name:D,rules:[{required:!0}],help:!1,children:Object(Ce.jsx)(S.a,{})})}):j===v&&u===$?Object(Ce.jsx)(w.a,{form:o,children:Object(Ce.jsx)(w.a.Item,{name:T,children:Object(Ce.jsxs)(we.a,{children:[Object(Ce.jsx)(Se,{value:-1,children:de},-1),t.map((function(e){var n=e.index,t=e.name;return Object(Ce.jsx)(Se,{value:n,children:t},n)}))]})})}):j===v&&u===U?Object(Ce.jsx)(w.a,{form:o,children:Object(Ce.jsxs)(w.a.Item,{children:[Object(Ce.jsx)(O.a,{onClick:h,icon:Object(Ce.jsx)(g.a,{})}),Object(Ce.jsx)(O.a,{onClick:function(){return x(-1)},icon:Object(Ce.jsx)(L.a,{})})]})}):u===ne?l:u===$?-1===y?de:null!==(i=null===(a=t.find((function(e){return e.index===y})))||void 0===a?void 0:a.name)&&void 0!==i?i:se:u===U?Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)(O.a,{onClick:function(){return function(e){var t=n.find((function(n){return n.index===e}));if(t){var i=t.name,r=t.lineupIndex;o.setFieldsValue({nameNew:i,lineupNew:r}),x(e)}}(v)},icon:Object(Ce.jsx)(k.a,{})}),Object(Ce.jsx)(O.a,{onClick:function(){return function(e){if(!c||!c.includes(e)){var t=n.findIndex((function(n){return n.index===e}));if(-1!==t){var i=[].concat(Object(d.a)(n.slice(0,t)),Object(d.a)(n.slice(t+1)));r(i)}}}(v)},disabled:null===c||void 0===c?void 0:c.includes(v),icon:Object(Ce.jsx)(C.a,{})})]}):null}))}}},pagination:!1,size:"small"})}var Pe=t(118),Ne=t.n(Pe),Ve=t(167),Re=t.n(Ve),ze=t(467),Ee=we.a.Option;function qe(e){var n=e.versionList,t=e.onChange,r=e.onPublish,c=e.onSelect,a=Object(F.useForm)(),o=Object(s.a)(a,1)[0],u=Object(i.useState)(-1),l=Object(s.a)(u,2),j=l[0],x=l[1],f=[{key:re,dataIndex:re,title:he},{key:te,dataIndex:te,title:Oe},{key:U,dataIndex:U,title:oe}].map((function(e){var n=e.dataIndex;return Object(p.a)(Object(p.a)({},e),{},{onCell:function(e){return{record:e,dataIndex:n}}})}));function b(){o.validateFields([G]).then((function(){var e=o.getFieldsValue([G,B]),i=e.version,r=e.previous;if(!n.find((function(e){return e.name===i}))){var c=Ie(n.map((function(e){return e.index}))),a=[].concat(Object(d.a)(n),[{index:c,name:i,indexPrev:r,changeList:[],releaseList:[]}]);o.setFieldsValue({version:""}),t(a)}})).catch((function(e){console.error(e)}))}function h(){o.validateFields([D]).then((function(){var e=o.getFieldsValue([D,K]),i=e.nameNew,r=e.previousNew;if(!n.find((function(e){return e.index!==j&&e.name===i}))){var c=n.findIndex((function(e){return e.index===j}));if(-1!==c){var a=n[c],s=a.changeList,u=a.releaseList,l=[].concat(Object(d.a)(n.slice(0,c)),[{index:j,name:i,indexPrev:r,changeList:s,releaseList:u}],Object(d.a)(n.slice(c+1)));t(l),x(-1)}}})).catch((function(e){console.error(e)}))}var v=Object(ve.uniq)(n.filter((function(e){var t=e.index;return!!n.find((function(e){return e.indexPrev===t}))})).map((function(e){return e.index}))),P=[{key:-1}].concat(Object(d.a)(n.map((function(e){return{key:e.index,version:e.name,previous:e.indexPrev}}))));return Object(Ce.jsx)(y.a,{columns:f,dataSource:P,components:{body:{cell:function(e){var i,a,s=e.record,u=e.dataIndex,l=e.children,f=Object(m.a)(e,["record","dataIndex","children"]),y=s.key,F=s.previous;return Object(Ce.jsx)("td",Object(p.a)(Object(p.a)({},f),{},{children:-1===y&&u===re?Object(Ce.jsx)(w.a,{form:o,children:Object(Ce.jsx)(w.a.Item,{name:G,rules:[{required:!0}],help:!1,children:Object(Ce.jsx)(S.a,{disabled:-1!==j})})}):-1===y&&u===te?Object(Ce.jsx)(w.a,{form:o,children:Object(Ce.jsx)(w.a.Item,{name:B,initialValue:-1,children:Object(Ce.jsxs)(we.a,{disabled:-1!==j,children:[Object(Ce.jsx)(Ee,{value:-1,children:de},-1),n.map((function(e){var n=e.index,t=e.name;return Object(Ce.jsx)(Ee,{value:n,children:t},n)}))]})})}):-1===y&&u===U?Object(Ce.jsx)(w.a,{children:Object(Ce.jsx)(w.a.Item,{children:Object(Ce.jsx)(O.a,{onClick:b,disabled:-1!==j,icon:Object(Ce.jsx)(I.a,{})})})}):j===y&&u===re?Object(Ce.jsx)(w.a,{form:o,children:Object(Ce.jsx)(w.a.Item,{name:D,rules:[{required:!0}],help:!1,children:Object(Ce.jsx)(S.a,{})})}):j===y&&u===te?Object(Ce.jsx)(w.a,{form:o,children:Object(Ce.jsx)(w.a.Item,{name:K,children:Object(Ce.jsxs)(we.a,{children:[Object(Ce.jsx)(Ee,{value:-1,children:de},-1),n.map((function(e){var n=e.index,t=e.name;return Object(Ce.jsx)(Ee,{value:n,disabled:n===y,children:t},n)}))]})})}):j===y&&u===U?Object(Ce.jsx)(w.a,{form:o,children:Object(Ce.jsxs)(w.a.Item,{children:[Object(Ce.jsx)(O.a,{onClick:h,icon:Object(Ce.jsx)(g.a,{})}),Object(Ce.jsx)(O.a,{onClick:function(){return x(-1)},icon:Object(Ce.jsx)(L.a,{})})]})}):u===re?Object(Ce.jsx)(Re.a,{onClick:function(){return c(y)},children:l}):u===te?-1===F?de:null!==(i=null===(a=n.find((function(e){return e.index===F})))||void 0===a?void 0:a.name)&&void 0!==i?i:se:u===U?Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)(O.a,{onClick:function(){return function(e){var t=n.find((function(n){return n.index===e}));if(t){var i=t.name,r=t.indexPrev;o.setFieldsValue({nameNew:i,previousNew:r}),x(e)}}(y)},icon:Object(Ce.jsx)(k.a,{})}),Object(Ce.jsx)(O.a,{onClick:function(){return function(e){if(!n.find((function(n){return n.indexPrev===e}))){var i=n.findIndex((function(n){return n.index===e}));if(-1!==i){var r=[].concat(Object(d.a)(n.slice(0,i)),Object(d.a)(n.slice(i+1,0)));t(r)}}}(y)},disabled:v.includes(y),icon:Object(Ce.jsx)(C.a,{})}),Object(Ce.jsx)(O.a,{onClick:function(){return function(e){r(e)}(y)},icon:Object(Ce.jsx)(ze.a,{})})]}):l}))}}},pagination:!1,size:"small"})}var Ae=t(468),Te=t(469),He=t(470),De=t(97);function Be(e){var n,t=e.customerList,r=e.lineupList,c=e.pkgList,a=e.versionList,o=e.onNew,u=e.onLoad,l=Object(i.createRef)(),j=Object(i.createRef)(),x=Object(i.useState)("Untitled"),f=Object(s.a)(x,2),b=f[0],O=f[1];var h=new FileReader;return h.onload=function(e){var t;if(n){var i=null===(t=e.target)||void 0===t?void 0:t.result;if("string"===typeof i){var r=n.name,c=r.lastIndexOf("."),a=r.substring(0,c),s=function(e){var n=JSON.parse(e),t=n.versionList,i=n.lineupList,r=n.pkgList,c=n.customerList;return t[0]&&void 0!==t[0].versionIndex?{versionList:t.map((function(e){var n=e.versionIndex,t=e.versionName,i=e.versionIndexPrev,r=e.changeList,c=e.releaseList;return{index:n,name:t,indexPrev:i,changeList:r.map((function(e){return{index:e.changeIndex,description:e.description,beforeChange:e.beforeChange,afterChange:e.afterChange,customerIndexList:e.targetCustomerList.map((function(e){return e.customerIndex})),lineupIndex:-1}})),releaseList:c.map((function(e){return{index:e.releaseIndex,pkgIndex:e.pkgIndex,customerIndexList:e.targetCustomerList.map((function(e){return e.customerIndex}))}}))}})),lineupList:[],pkgList:r.map((function(e){return{index:e.pkgIndex,name:e.pkgName,lineupIndex:-1}})),customerList:c.map((function(e){return{index:e.customerIndex,name:e.customerName}}))}:(t.forEach((function(e){var n=e.index,t=e.changeList,i=e.releaseList;i.forEach((function(e){var n;e.customerIndexListPerChangeList=null!==(n=e.customerIndexListPerChangeList)&&void 0!==n?n:[]})),t.forEach((function(e){var t=e.index,c=e.customerIndexList;if(c.length)c.forEach((function(c){var a=i.find((function(n){var t=n.pkgIndex;return r.find((function(i){return i.index===t&&i.lineupIndex===e.lineupIndex&&n.customerIndexList.includes(c)}))}));if(a){var s=a.customerIndexListPerChangeList,o=s.find((function(e){return e.versionIndex===n&&e.changeIndex===t}));o?o.customerIndexList=Object(ve.uniq)([].concat(Object(d.a)(o.customerIndexList),[c])):s.push({versionIndex:n,changeIndex:t,customerIndexList:[c]})}}));else{var a=i.find((function(n){var t=n.pkgIndex;return r.find((function(n){return n.index===t&&n.lineupIndex===e.lineupIndex}))}));if(a){var s=a.customerIndexListPerChangeList,o=s.find((function(e){return e.versionIndex===n&&e.changeIndex===t}));o?o.customerIndexList=[-1]:s.push({versionIndex:n,changeIndex:t,customerIndexList:[-1]})}}}))})),{versionList:t,lineupList:i,pkgList:r,customerList:c})}(i),o=s.versionList,l=s.lineupList,j=s.pkgList,x=s.customerList;O(a),u({customerList:x,lineupList:l,pkgList:j,versionList:o})}}},Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsxs)(De.a,{mode:"horizontal",selectable:!1,children:[Object(Ce.jsx)(De.a.Item,{onClick:o,icon:Object(Ce.jsx)(Ae.a,{})},"new"),Object(Ce.jsx)(De.a.Item,{onClick:function(){var e;return null===(e=l.current)||void 0===e?void 0:e.click()},icon:Object(Ce.jsx)(Te.a,{})},"load"),Object(Ce.jsx)(De.a.Item,{disabled:!0,children:Object(Ce.jsx)(S.a,{value:b,onChange:function(e){return O(e.target.value)}})},"featureName"),Object(Ce.jsx)(De.a.Item,{onClick:function(){return function(){if(null!==j.current){var e=new Blob([JSON.stringify({versionList:a,lineupList:r,pkgList:c,customerList:t})],{type:"application/json"});j.current.download="".concat(b,".json"),j.current.href=window.URL.createObjectURL(e),j.current.click()}}()},icon:Object(Ce.jsx)(He.a,{})},"save")]}),Object(Ce.jsx)("input",{type:"file",accept:".json",hidden:!0,ref:l,onChange:function(e){var t;(n=null===(t=e.target.files)||void 0===t?void 0:t[0])&&h.readAsText(n)}}),Object(Ce.jsx)("a",{href:"#",ref:j,hidden:!0})]})}var Ke=t(471),Ge=t(36),Je=t(117),Ue=t(458),We=t(462),Me=t(463),_e=t(55),Qe=t.n(_e),Xe=we.a.Option,Ye=Ue.a.Text;function Ze(e){var n,t,r,c,a=e.customerList,o=e.pkgList,u=e.releaseIndex,l=e.versionIndex,j=e.versionList,f=e.onChange,b=Object(F.useForm)(),h=Object(s.a)(b,1)[0],v=Object(i.useState)(-1),I=Object(s.a)(v,2),C=I[0],S=I[1],P=Object(i.useState)(-1),N=Object(s.a)(P,2),V=N[0],R=N[1];Object(i.useEffect)((function(){S(-1),R(-1)}),[a,o,u,l,j]);var E=j.find((function(e){return e.index===l})),q=(null!==(n=null===E||void 0===E?void 0:E.releaseList)&&void 0!==n?n:[]).find((function(e){return e.index===u})),A=null!==(t=null===q||void 0===q?void 0:q.customerIndexListPerChangeList)&&void 0!==t?t:[],T=null!==(r=null===q||void 0===q?void 0:q.pkgIndex)&&void 0!==r?r:void 0,H=[{key:re,dataIndex:re,title:he},{key:X,dataIndex:X,title:xe},{key:Q,dataIndex:Q,title:je},{key:U,dataIndex:U,title:oe}].map((function(e){var n=e.dataIndex;return Object(p.a)(Object(p.a)({},e),{},{onCell:function(e){return{record:e,dataIndex:n}}})}));function D(){S(-1),R(-1)}var B=pe(j,l),K=o.find((function(e){return e.index===T})),G=B.reduce((function(e,n){var t=j.find((function(e){return e.index===n}));if(!t)return e;var i=t.changeList.filter((function(e){return e.lineupIndex===(null===K||void 0===K?void 0:K.lineupIndex)}));return[].concat(Object(d.a)(e),Object(d.a)(i.map((function(e){return Object(p.a)({versionIndex:n},e)}))))}),[]),J=Object(d.a)(G.map((function(e){var n,t,i=e.index,r=e.description,c=e.beforeChange,a=e.afterChange,d=e.versionIndex,s=null!==(n=null===(t=A.find((function(e){return e.versionIndex===d&&e.changeIndex===i})))||void 0===t?void 0:t.customerIndexList)&&void 0!==n?n:[];return{changeIndex:i,description:r,beforeChange:c,afterChange:a,version:d,customerIndexList:s}}))),W=null!==(c=null===q||void 0===q?void 0:q.customerIndexList)&&void 0!==c?c:[],M=a.filter((function(e){return W.includes(e.index)}));return Object(Ce.jsx)(y.a,{columns:H,dataSource:J,components:{body:{cell:function(e){var n,t=e.record,i=e.dataIndex,r=e.children,c=Object(m.a)(e,["record","dataIndex","children"]);if(!t)return Object(Ce.jsx)("td",Object(p.a)(Object(p.a)({colSpan:H.length},c),{},{children:r}));var s=t.changeIndex,o=t.beforeChange,u=t.afterChange,b=t.version,v=t.customerIndexList,I=j.find((function(e){return e.index===b}));return Object(Ce.jsx)("td",Object(p.a)(Object(p.a)({},c),{},{children:C===b&&V===s&&i===Q?Object(Ce.jsx)(w.a,{form:h,children:Object(Ce.jsx)(w.a.Item,{name:z,help:!1,children:Object(Ce.jsxs)(we.a,{mode:"multiple",allowClear:!0,filterOption:function(e,n){if(!n)return!1;var t=n.children;return!!t&&-1!==t.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())},children:[Object(Ce.jsx)(Xe,{value:-1,children:ae},-1),M.map((function(e){var n=e.index,t=e.name;return Object(Ce.jsx)(Xe,{value:n,children:t},n)}))]})})}):C===b&&V===s&&i===U?Object(Ce.jsx)(w.a,{form:h,children:Object(Ce.jsxs)(w.a.Item,{children:[Object(Ce.jsx)(O.a,{onClick:function(){return function(e,n){var t=j.find((function(n){return n.index===e}));if(t&&t.changeList.find((function(e){return e.index===n}))&&q){var i=h.getFieldValue(z),r=i.includes(-1)?[-1]:i,c=q.customerIndexListPerChangeList,a=c.findIndex((function(t){return t.versionIndex===e&&t.changeIndex===n})),s=-1===a?[].concat(Object(d.a)(c),[{versionIndex:e,changeIndex:n,customerIndexList:r}]):[].concat(Object(d.a)(c.slice(0,a)),[{versionIndex:e,changeIndex:n,customerIndexList:r}],Object(d.a)(c.slice(a+1)));f(s)}}(b,s)},icon:Object(Ce.jsx)(g.a,{})}),Object(Ce.jsx)(O.a,{onClick:D,icon:Object(Ce.jsx)(L.a,{})})]})}):i===re?Object(Ce.jsxs)(Ce.Fragment,{children:[null!==(n=null===I||void 0===I?void 0:I.name)&&void 0!==n?n:se," ",b===l?Object(Ce.jsx)(We.a,{color:"blue"}):null]}):i===X?Object(Ce.jsx)(Me.a,{content:function(){return Object(Ce.jsx)(_,{beforeChange:o,afterChange:u})},children:r}):i===Q?v.map((function(e){var n,t=-1===e?{name:ae}:a.find((function(n){return n.index===e}));return Object(Ce.jsx)(x.a,{color:"blue",children:null!==(n=null===t||void 0===t?void 0:t.name)&&void 0!==n?n:se},e)})):i===U?Object(Ce.jsx)(O.a,{onClick:function(){return function(e,n){var t=A.find((function(t){return t.versionIndex===e&&t.changeIndex===n}));if(t){var i=t.customerIndexList;h.setFieldsValue({customerIndexList:i})}S(e),R(n)}(b,s)},icon:Object(Ce.jsx)(k.a,{})}):r}))}}},pagination:!1,size:"small"});function _(e){var n=e.beforeChange,t=e.afterChange;return Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)(Ye,{strong:!0,children:"Before change"}),Object(Ce.jsx)("br",{}),Object(Ce.jsx)(Qe.a,{value:n,cols:80,autoSize:!0}),Object(Ce.jsx)("br",{}),Object(Ce.jsx)(Ye,{strong:!0,children:"After change"}),Object(Ce.jsx)("br",{}),Object(Ce.jsx)(Qe.a,{value:t,cols:80,autoSize:!0})]})}}var $e=we.a.Option;function en(e){var n,t,r=e.lineupList,c=e.pkgList,a=e.customerList,o=e.usedPkgIndexList,u=e.versionList,l=e.versionIndex,j=e.onChange,f=Object(F.useForm)(),b=Object(s.a)(f,1)[0],h=Object(i.useState)(-1),v=Object(s.a)(h,2),S=v[0],P=v[1],N=Object(i.useState)(null),V=Object(s.a)(N,2),R=V[0],z=V[1],E=Object(Ge.o)(Object(Ge.n)(Ge.e),Object(Ge.n)(Ge.d,{coordinateGetter:Je.c}));Object(i.useEffect)((function(){P(-1)}),[r,c,a,u,l]);var q=u.find((function(e){return e.index===l})),A=null!==(n=null===q||void 0===q?void 0:q.releaseList)&&void 0!==n?n:[],T=[{key:ne,dataIndex:ne,title:be},{key:Q,dataIndex:Q,title:je,width:"50%"},{key:U,dataIndex:U,title:oe},{key:Y,dataIndex:Y,title:""}].map((function(e){var n=e.dataIndex;return Object(p.a)(Object(p.a)({},e),{},{onCell:function(e){return{record:e,dataIndex:n}}})}));function H(){b.validateFields(["pkgIndex","customerList"]).then((function(){var e=b.getFieldsValue(["pkgIndex","customerList"]),n=e.pkgIndex,t=e.customerList;if(-1!==n&&!u.find((function(e){return e.releaseList.find((function(e){return e.pkgIndex===n}))}))){var i=Ie(A.map((function(e){return e.index}))),r=[].concat(Object(d.a)(A),[{index:i,pkgIndex:n,customerIndexList:t,customerIndexListPerChangeList:[]}]);j(r)}})).catch((function(e){console.error(e)}))}function D(e,n){var t=A.findIndex((function(n){return n.index===e}));if(-1!==t){var i=A[t],r=i.index,c=i.pkgIndex,a=i.customerIndexList,s=[].concat(Object(d.a)(A.slice(0,t)),[{index:r,pkgIndex:c,customerIndexList:a,customerIndexListPerChangeList:n}],Object(d.a)(A.slice(t+1)));j(s)}}function B(){b.validateFields(["pkgIndexNew","customerIndexListNew"]).then((function(){var e=b.getFieldsValue(["pkgIndexNew","customerIndexListNew"]),n=e.pkgIndexNew,t=e.customerIndexListNew;if(!A.find((function(e){return e.index!==S&&e.pkgIndex===n}))){var i=A.findIndex((function(e){return e.index===S})),r=A[i].customerIndexListPerChangeList;if(-1!==i){var c=[].concat(Object(d.a)(A.slice(0,i)),[{index:S,pkgIndex:n,customerIndexList:t,customerIndexListPerChangeList:r}],Object(d.a)(A.slice(i+1)));j(c),P(-1)}}})).catch((function(e){console.error(e)}))}var K=[{key:-1}].concat(Object(d.a)(A.map((function(e){var n,t,i=e.index,a=e.pkgIndex,d=e.customerIndexList,s=c.find((function(e){return e.index===a})),o=null===s||void 0===s?void 0:s.name,u=null===s||void 0===s?void 0:s.lineupIndex,l=-1===u?de:null!==(n=null===(t=r.find((function(e){return e.index===u})))||void 0===t?void 0:t.name)&&void 0!==n?n:se;return{key:i,package:a,pkgName:o,customers:d,lineup:l}})))),G=A.find((function(e){return e.index===Number(R)})),W=c.find((function(e){return e.index===(null===G||void 0===G?void 0:G.pkgIndex)})),M=null===W||void 0===W?void 0:W.name,_=null===W||void 0===W?void 0:W.lineupIndex,X=null===(t=r.find((function(e){return e.index===_})))||void 0===t?void 0:t.name;return Object(Ce.jsxs)(Ge.a,{sensors:E,collisionDetection:Ge.f,onDragStart:function(e){var n=e.active;z(n.id)},onDragEnd:function(e){var n=e.active,t=e.over;if(n.id!==t.id){var i=A.findIndex((function(e){return e.index.toString()===n.id})),r=A.findIndex((function(e){return e.index.toString()===t.id})),c=Object(Je.b)(A,i,r);j(c)}z(null)},children:[Object(Ce.jsx)(y.a,{columns:T,dataSource:K,components:{body:{wrapper:function(e){var n=e.children,t=Object(m.a)(e,["children"]);return Object(Ce.jsx)(Je.a,Object(p.a)(Object(p.a)({items:n[1].map((function(e){return e.key.toString()})),strategy:Je.e},t),{},{children:Object(Ce.jsx)("tbody",Object(p.a)(Object(p.a)({},t),{},{children:n}))}))},row:function(e){var n,t,i=e.children,r=e.style,c=Object(m.a)(e,["children","style"]),a=null!==(n=null===(t=e["data-row-key"])||void 0===t?void 0:t.toString())&&void 0!==n?n:J,d=Object(Je.d)({id:a}),s=d.attributes,o=d.listeners,u=d.setNodeRef,l=Number(a)>-1?{fontWeight:"bold"}:null,j=Object.assign({},r,l);return Object(Ce.jsx)("tr",Object(p.a)(Object(p.a)(Object(p.a)({ref:u},s),c),{},{style:j,children:a===J?i:i.map((function(e){e.children;var n=Object(m.a)(e,["children"]);return n.key===Y?Object(Ce.jsx)("td",Object(p.a)(Object(p.a)(Object(p.a)({},o),n),{},{children:e})):Object(Ce.jsx)("td",Object(p.a)(Object(p.a)({},n),{},{children:e}))}))}))},cell:function(e){var n=e.record,t=e.dataIndex,i=e.children;Object(m.a)(e,["record","dataIndex","children"]);if(!n)return i;var s=n.key,u=n.pkgName,l=n.customers,f=n.lineup;return Object(Ce.jsx)(Ce.Fragment,{children:-1===s&&t===ne?Object(Ce.jsx)(w.a,{form:b,children:Object(Ce.jsx)(w.a.Item,{name:"pkgIndex",rules:[{required:!0}],help:!1,children:Object(Ce.jsx)(we.a,{disabled:-1!==S,children:c.map((function(e){var n,t,i=e.index,c=e.name,a=e.lineupIndex,d=-1===a?de:null!==(n=null===(t=r.find((function(e){return e.index===a})))||void 0===t?void 0:t.name)&&void 0!==n?n:se;return Object(Ce.jsxs)($e,{value:i,disabled:o.includes(i),children:[c," ",Object(Ce.jsx)(x.a,{children:d})]},i)}))})})}):-1===s&&t===Q?Object(Ce.jsx)(w.a,{form:b,children:Object(Ce.jsx)(w.a.Item,{name:"customerList",rules:[{required:!0}],help:!1,children:Object(Ce.jsx)(we.a,{mode:"multiple",allowClear:!0,filterOption:function(e,n){if(!n)return!1;var t=n.children;return!!t&&-1!==t.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())},disabled:-1!==S,children:a.map((function(e){var n=e.index,t=e.name;return Object(Ce.jsx)($e,{value:n,children:t},n)}))})})}):-1===s&&t===U?Object(Ce.jsx)(w.a,{children:Object(Ce.jsx)(w.a.Item,{children:Object(Ce.jsx)(O.a,{onClick:H,disabled:-1!==S,children:Object(Ce.jsx)(I.a,{})})})}):-1===s&&t===Y?null:S===s&&t===ne?Object(Ce.jsx)(w.a,{form:b,children:Object(Ce.jsx)(w.a.Item,{name:"pkgIndexNew",children:Object(Ce.jsx)(we.a,{children:c.map((function(e){var n,t,i=e.index,c=e.name,a=e.lineupIndex,d=-1===a?de:null!==(n=null===(t=r.find((function(e){return e.index===a})))||void 0===t?void 0:t.name)&&void 0!==n?n:se;return Object(Ce.jsxs)($e,{value:i,children:[c," ",Object(Ce.jsx)(x.a,{children:d})]},i)}))})})}):S===s&&t===Q?Object(Ce.jsx)(w.a,{form:b,children:Object(Ce.jsx)(w.a.Item,{name:"customerIndexListNew",rules:[{required:!0}],help:!1,children:Object(Ce.jsx)(we.a,{mode:"multiple",allowClear:!0,filterOption:function(e,n){if(!n)return!1;var t=n.children;return!!t&&-1!==t.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())},children:a.map((function(e){var n=e.index,t=e.name;return Object(Ce.jsx)($e,{value:n,children:t},n)}))})})}):S===s&&t===U?Object(Ce.jsx)(w.a,{form:b,children:Object(Ce.jsxs)(w.a.Item,{children:[Object(Ce.jsx)(O.a,{onClick:B,children:Object(Ce.jsx)(g.a,{})}),Object(Ce.jsx)(O.a,{onClick:function(){return P(-1)},children:Object(Ce.jsx)(L.a,{})})]})}):t===ne?Object(Ce.jsxs)(Ce.Fragment,{children:[u," ",Object(Ce.jsx)(x.a,{children:f})]}):t===Q?l.map((function(e){var n=a.find((function(n){return n.index===e}));return n&&Object(Ce.jsx)(x.a,{children:n.name},n.index)})).filter((function(e){return!!e})):t===U?Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)(O.a,{onClick:function(){return function(e){var n=A.find((function(n){return n.index===e}));if(n){var t=n.pkgIndex,i=n.customerIndexList;c.find((function(e){return e.index===t}))&&(b.setFieldsValue({pkgIndexNew:t,customerIndexListNew:i}),P(e))}}(s)},children:Object(Ce.jsx)(k.a,{})}),Object(Ce.jsx)(O.a,{onClick:function(){return function(e){var n=A.findIndex((function(n){return n.index===e}));if(-1!==n){var t=[].concat(Object(d.a)(A.slice(0,n)),Object(d.a)(A.slice(n+1)));j(t)}}(s)},children:Object(Ce.jsx)(C.a,{})})]}):t===Y?Object(Ce.jsx)(Ke.a,{style:{cursor:"grab"}}):i})}}},expandable:{expandedRowRender:function(e){var n=e.key;return Object(Ce.jsx)("td",{colSpan:T.length+1,children:Object(Ce.jsx)(Ze,{customerList:a,pkgList:c,releaseIndex:n,versionIndex:l,versionList:u,onChange:function(e){return D(n,e)}})})},rowExpandable:function(e){return-1!==e.key}},pagination:!1,size:"small"}),Object(Ce.jsxs)(Ge.b,{style:{backgroundColor:"#e0e0e07f",border:"1px solid #e9e9e9",display:"flex",alignItems:"center",paddingLeft:30},children:[M," ",Object(Ce.jsx)(x.a,{children:X})]})]})}var nn=we.a.Option;function tn(e){var n,t=e.versionIndex,r=e.versionList,c=e.lineupList,a=e.usedChangeIndexWithVersionIndexList,o=e.onChange,u=Object(F.useForm)(),l=Object(s.a)(u,1)[0],j=Object(i.useState)(-1),x=Object(s.a)(j,2),f=x[0],b=x[1];Object(i.useEffect)((function(){b(-1)}),[t,r,c]);var h=r.find((function(e){return e.index===t})),v=null!==(n=null===h||void 0===h?void 0:h.changeList)&&void 0!==n?n:[],S=[{key:X,dataIndex:X,title:xe,width:"25%"},{key:M,dataIndex:M,title:le,width:"25%"},{key:W,dataIndex:W,title:ue,width:"25%"},{key:$,dataIndex:$,title:fe,width:"12.5%"},{key:U,dataIndex:U,title:oe,width:"12.5%"}].map((function(e){var n=e.dataIndex;return Object(p.a)(Object(p.a)({},e),{},{onCell:function(e){return{record:e,dataIndex:n}}})}));function z(){l.validateFields([E,A]).then((function(){var e=l.getFieldsValue([E,V,P,A]),n=e.description,t=e.beforeChange,i=e.afterChange,r=e.lineup,c=Ie(v.map((function(e){return e.index}))),a=[].concat(Object(d.a)(v),[{index:c,description:n,beforeChange:t,afterChange:i,lineupIndex:r}]);o(a),l.setFieldsValue({description:"",beforeChange:"",afterChange:"",lineup:-1})})).catch((function(e){console.error(e)}))}function H(){l.validateFields([q,T]).then((function(){var e=l.getFieldsValue([q,R,N,T]),n=e.descriptionNew,t=e.beforeChangeNew,i=e.afterChangeNew,r=e.lineupNew,c=v.findIndex((function(e){return e.index===f}));if(-1!==c){var a=[].concat(Object(d.a)(v.slice(0,c)),[{index:f,description:n,beforeChange:t,afterChange:i,lineupIndex:r}],Object(d.a)(v.slice(c+1)));o(a),b(-1)}})).catch((function(e){console.error(e)}))}var D=[{key:-1}].concat(Object(d.a)(v.map((function(e){return{key:e.index,description:e.description,beforeChange:e.beforeChange,afterChange:e.afterChange,lineup:e.lineupIndex}}))));return Object(Ce.jsx)(y.a,{columns:S,dataSource:D,components:{body:{cell:function(e){var n,i,r=e.record,s=e.dataIndex,u=e.children,j=Object(m.a)(e,["record","dataIndex","children"]),x=r.key,h=r.lineup;return Object(Ce.jsx)("td",Object(p.a)(Object(p.a)({},j),{},{style:{verticalAlign:"top"},children:-1===x&&s===X?Object(Ce.jsx)(w.a,{form:l,children:Object(Ce.jsx)(w.a.Item,{name:E,rules:[{required:!0}],help:!1,children:Object(Ce.jsx)(Qe.a,{autoSize:!0,disabled:-1!==f})})}):-1===x&&s===M?Object(Ce.jsx)(w.a,{form:l,children:Object(Ce.jsx)(w.a.Item,{name:V,help:!1,children:Object(Ce.jsx)(Qe.a,{autoSize:!0,disabled:-1!==f})})}):-1===x&&s===W?Object(Ce.jsx)(w.a,{form:l,children:Object(Ce.jsx)(w.a.Item,{name:P,help:!1,children:Object(Ce.jsx)(Qe.a,{autoSize:!0,disabled:-1!==f})})}):-1===x&&s===$?Object(Ce.jsx)(w.a,{form:l,children:Object(Ce.jsx)(w.a.Item,{name:A,initialValue:-1,children:Object(Ce.jsxs)(we.a,{disabled:-1!==f,children:[Object(Ce.jsx)(nn,{value:-1,children:de},-1),c.map((function(e){var n=e.index,t=e.name;return Object(Ce.jsx)(nn,{value:n,children:t},n)}))]})})}):-1===x&&s===U?Object(Ce.jsx)(w.a,{children:Object(Ce.jsx)(w.a.Item,{children:Object(Ce.jsx)(O.a,{onClick:z,disabled:-1!==f,children:Object(Ce.jsx)(I.a,{})})})}):f===x&&s===X?Object(Ce.jsx)(w.a,{form:l,children:Object(Ce.jsx)(w.a.Item,{name:q,rules:[{required:!0}],help:!1,children:Object(Ce.jsx)(Qe.a,{autoSize:!0})})}):f===x&&s===M?Object(Ce.jsx)(w.a,{form:l,children:Object(Ce.jsx)(w.a.Item,{name:R,help:!1,children:Object(Ce.jsx)(Qe.a,{autoSize:!0})})}):f===x&&s===W?Object(Ce.jsx)(w.a,{form:l,children:Object(Ce.jsx)(w.a.Item,{name:N,help:!1,children:Object(Ce.jsx)(Qe.a,{autoSize:!0})})}):f===x&&s===$?Object(Ce.jsx)(w.a,{form:l,children:Object(Ce.jsx)(w.a.Item,{name:T,children:Object(Ce.jsxs)(we.a,{children:[Object(Ce.jsx)(nn,{value:-1,children:de},-1),c.map((function(e){var n=e.index,t=e.name;return Object(Ce.jsx)(nn,{value:n,children:t},n)}))]})})}):f===x&&s===U?Object(Ce.jsx)(w.a,{children:Object(Ce.jsxs)(w.a.Item,{children:[Object(Ce.jsx)(O.a,{onClick:H,icon:Object(Ce.jsx)(g.a,{})}),Object(Ce.jsx)(O.a,{onClick:function(){return b(-1)},icon:Object(Ce.jsx)(L.a,{})})]})}):s===X||s===M||s===W?Object(Ce.jsx)(Qe.a,{value:u[1],autoSize:!0,style:{border:"none "}}):s===$?-1===h?de:null!==(n=null===(i=c.find((function(e){return e.index===h})))||void 0===i?void 0:i.name)&&void 0!==n?n:se:s===U?Object(Ce.jsx)(w.a,{children:Object(Ce.jsxs)(w.a.Item,{children:[Object(Ce.jsx)(O.a,{onClick:function(){return function(e){var n=v.find((function(n){return n.index===e}));if(n){var t=n.description,i=n.beforeChange,r=n.afterChange,c=n.lineupIndex;l.setFieldsValue({descriptionNew:t,beforeChangeNew:i,afterChangeNew:r,lineupNew:c}),b(e)}}(x)},icon:Object(Ce.jsx)(k.a,{})}),Object(Ce.jsx)(O.a,{onClick:function(){return function(e){var n=v.findIndex((function(n){return n.index===e})),t=[].concat(Object(d.a)(v.slice(0,n)),Object(d.a)(v.slice(n+1)));o(t)}(x)},icon:Object(Ce.jsx)(C.a,{}),disabled:!!a.find((function(e){return e.versionIndex===t&&e.changeIndex===x}))})]})}):u}))}}},pagination:!1,size:"small"})}var rn="AT&T Mobility,Docomo,KDDI,KT,LG U+,Reliance Jio,SK Telecom,TELUS,Verizon Wireless,Videotron,Vodafone".split(",").map((function(e,n){return{index:n,name:e}})),cn="4G,5G".split(",").map((function(e,n){return{index:n,name:e}})),an="SVR19A,SVR19B,SVR20A,SVR20C,SVR21A,SVR21B,SVR21C,SVR21D,SVR22A,SVR22B".split(","),dn=[].concat(Object(d.a)(an.map((function(e,n){return{name:"".concat(e," LTE"),lineupIndex:0}}))),Object(d.a)(an.map((function(e,n){return{name:"".concat(e," NR"),lineupIndex:1}})))).map((function(e,n){return Object(p.a)({index:n},e)})),sn=[{index:0,name:"R1",indexPrev:-1,changeList:[],releaseList:[]},{index:1,name:"R2",indexPrev:0,changeList:[],releaseList:[]}],on=o.a.Panel;var un=function(){var e,n=Object(i.useState)(sn),t=Object(s.a)(n,2),r=t[0],c=t[1],a=Object(i.useState)(-1),m=Object(s.a)(a,2),p=m[0],I=m[1],g=Object(i.useState)(cn),L=Object(s.a)(g,2),k=L[0],C=L[1],y=Object(i.useState)(dn),w=Object(s.a)(y,2),S=w[0],F=w[1],P=Object(i.useState)(rn),N=Object(s.a)(P,2),V=N[0],R=N[1],z=Object(i.useState)(!1),E=Object(s.a)(z,2),q=E[0],A=E[1],T=Object(i.useState)(""),H=Object(s.a)(T,2),D=H[0],B=H[1],K=Object(ve.uniqWith)(r.reduce((function(e,n){var t=n.releaseList.reduce((function(e,n){var t=n.customerIndexListPerChangeList;return[].concat(Object(d.a)(e),Object(d.a)(t.filter((function(e){var n=e.customerIndexList;return n&&n.length})).map((function(e){return{versionIndex:e.versionIndex,changeIndex:e.changeIndex}}))))}),[]);return[].concat(Object(d.a)(e),Object(d.a)(t))}),[]),(function(e,n){return e.versionIndex===n.versionIndex&&e.changeIndex===n.changeIndex})),G=Object(ve.uniq)([].concat(Object(d.a)(r.reduce((function(e,n){var t=n.changeList;return[].concat(Object(d.a)(e),Object(d.a)(t.map((function(e){return e.lineupIndex}))))}),[])),Object(d.a)(S.map((function(e){return e.lineupIndex}))))),J=Object(ve.uniq)(r.reduce((function(e,n){var t=n.releaseList;return[].concat(Object(d.a)(e),Object(d.a)(t.map((function(e){return e.pkgIndex}))))}),[])),U=Object(ve.uniq)(r.reduce((function(e,n){var t=n.releaseList;return[].concat(Object(d.a)(e),Object(d.a)(t.reduce((function(e,n){var t=n.customerIndexList,i=n.customerIndexListPerChangeList;return[].concat(Object(d.a)(e),Object(d.a)(t),Object(d.a)(i.reduce((function(e,n){var t=n.customerIndexList;return[].concat(Object(d.a)(e),Object(d.a)(t))}),[])))}),[])))}),[])),W=r.find((function(e){return e.index===p})),M=W&&-1!==W.indexPrev?null!==(e=r.find((function(e){return e.index===W.indexPrev})))&&void 0!==e?e:-1:void 0;return Object(Ce.jsxs)("div",{className:"App",children:[Object(Ce.jsx)(Be,{customerList:V,lineupList:k,pkgList:S,versionList:r,onNew:function(){I(-1),R([]),C([]),F([]),c([])},onLoad:function(e){var n=e.customerList,t=e.lineupList,i=e.pkgList,r=e.versionList;I(-1),R(n),C(t),F(i),c(r)}}),Object(Ce.jsx)(u.a,{children:Object(Ce.jsx)(l.a,{span:16,offset:4,children:Object(Ce.jsxs)(j.a,{defaultActiveKey:Z,children:[Object(Ce.jsxs)(j.a.TabPane,{tab:"History",children:[Object(Ce.jsx)(Ne.a,{level:2,children:"History"}),Object(Ce.jsx)(o.a,{defaultActiveKey:[ce],children:Object(Ce.jsx)(on,{header:"Versions",children:Object(Ce.jsx)(qe,{versionList:r,onChange:function(e){e.find((function(e){return e.index===p}))||I(-1),c(e)},onPublish:function(e){var n=function(e,n,t,i,r){if(!function(e,n){var t=e.find((function(e){return e.index===n}));if(!t)return!1;for(var i=t,r=i,c=r.index,a=r.indexPrev,d=t,s=d,o=s.index,u=s.indexPrev;i||d;){if(!(i=e.find((function(e){return e.index===a}))))return!1;var l=i;if(c=l.index,a=l.indexPrev,!(d=e.find((function(e){return e.index===u}))))return!1;var j=d;if(o=j.index,u=j.indexPrev,!(d=e.find((function(e){return e.index===u}))))return!1;var x=d;if(o=x.index,u=x.indexPrev,c===o)return!0}}(e,n)){var c=[];r.forEach((function(r){c.push({customerIndexList:[r.index],releaseHistory:Le(e,n,t,i,r)})}));for(var a=c.length-1;a>=0;a-=1)for(var s=c[a],o=s.customerIndexList,u=s.releaseHistory,l=a-1;l>=0;l-=1){var j=c[l],x=j.customerIndexList;if(u===j.releaseHistory){x.push.apply(x,Object(d.a)(o)),c.splice(a,1);break}}return c.filter((function(e){return e.releaseHistory})).map((function(e){var n,t,i=e.customerIndexList,c=e.releaseHistory,a=(n=r,t=i,n.filter((function(e){return t.includes(e.index)})).map((function(e){return e.name}))).join(", ");return"<".concat(a,">\n").concat(ge(c),"\n</").concat(a,">")})).join("\n")}}(r,e,k,S,V);B(null!==n&&void 0!==n?n:se),A(!0)},onSelect:function(e){I(e)}})},ce)}),W?Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)(Ne.a,{level:3,children:W.name}),M?Object(Ce.jsxs)(Ce.Fragment,{children:["Previous"," ",Object(Ce.jsx)(x.a,{children:-1===M?se:M.name})]}):null,Object(Ce.jsxs)(f.b,{direction:"vertical",style:{width:"100%"},children:[Object(Ce.jsx)(o.a,{defaultActiveKey:[_],children:Object(Ce.jsx)(on,{header:"Changes",children:Object(Ce.jsx)(tn,{versionIndex:p,versionList:r,lineupList:k,usedChangeIndexWithVersionIndexList:K,onChange:function(e){var n=r.findIndex((function(e){return e.index===p}));if(-1!==n){var t=r[n];t.changeList=e;var i=[].concat(Object(d.a)(r.slice(0,n)),[t],Object(d.a)(r.slice(n+1)));c(i)}}})},_)}),Object(Ce.jsx)(o.a,{defaultActiveKey:[ie],children:Object(Ce.jsx)(on,{header:"Releases",children:Object(Ce.jsx)(en,{lineupList:k,pkgList:S,customerList:V,usedPkgIndexList:J,versionList:r,versionIndex:p,onChange:function(e){var n=r.findIndex((function(e){return e.index===p}));if(-1!==n){var t=r[n];t.releaseList=e;var i=[].concat(Object(d.a)(r.slice(0,n)),[t],Object(d.a)(r.slice(n+1)));c(i)}}})},ie)})]})]}):null]},Z),Object(Ce.jsxs)(j.a.TabPane,{tab:je,children:[Object(Ce.jsx)(Ne.a,{level:2,children:"Customers"}),Object(Ce.jsx)(ye,{title:" Customer",enumList:V,onChange:R,usedIndexList:U})]},Q),Object(Ce.jsxs)(j.a.TabPane,{tab:"Lineups",children:[Object(Ce.jsx)(Ne.a,{level:2,children:"Lineups"}),Object(Ce.jsx)(ye,{title:fe,enumList:k,onChange:C,usedIndexList:G})]},"lineups"),Object(Ce.jsxs)(j.a.TabPane,{tab:"Packages",children:[Object(Ce.jsx)(Ne.a,{level:2,children:"Packages"}),Object(Ce.jsx)(Fe,{pkgList:S,lineupList:k,onChange:F,usedPkgIndexList:J})]},"packages")]})})}),Object(Ce.jsx)(u.a,{style:{marginTop:"1em"},children:Object(Ce.jsx)(l.a,{span:24,style:{display:"flex",justifyContent:"center"},children:Object(Ce.jsx)(Re.a,{href:"https://github.com/gsongsong/rhm",target:"_blank",rel:"noreferrer",children:Object(Ce.jsx)(h.a,{})})})}),Object(Ce.jsx)(b.a,{title:"Release history",footer:Object(Ce.jsxs)(O.a,{children:[Object(Ce.jsx)(v.a,{}),"Copy to clipboard"]}),visible:q,onCancel:function(){return A(!1)},width:960,children:Object(Ce.jsx)(Qe.a,{value:D,cols:80,autoSize:!0})})]})},ln=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,473)).then((function(n){var t=n.getCLS,i=n.getFID,r=n.getFCP,c=n.getLCP,a=n.getTTFB;t(e),i(e),r(e),c(e),a(e)}))};a.a.render(Object(Ce.jsx)(r.a.StrictMode,{children:Object(Ce.jsx)(un,{})}),document.getElementById("root")),ln()}},[[451,1,2]]]);
//# sourceMappingURL=main.d0d34a64.chunk.js.map