{"version":3,"sources":["utils.ts","components/EnumTable.tsx","components/PkgTable.tsx","components/EnumSelector.tsx","components/ChangeTable.tsx","components/ReleaseTable.tsx","components/VersionComponent.tsx","components/VersionEditor.tsx","App.tsx","reportWebVitals.js","index.js"],"names":["accumulateChangeList","changeListAccumulated","customerIndex","versionList","indexPrev","versionNext","find","version","index","changeList","releaseList","release","customerIndexList","includes","unshift","filter","change","length","findEmptyIndex","indexList","sort","a","b","reduce","indent","input","replace","publishPerCustomer","versionIndex","lineupList","pkgList","customer","candidateLineupIndexList","map","lineup","releaseHistoryPerLineupList","forEach","lineupIndex","push","releaseHistory","publishPerLineup","releaseHistoryPerLineup","lineupFound","lineupName","name","join","changeListPerPkgList","releaseFound","pkgIndex","pkg","pkgFound","pkgName","pkgLineupIndex","changeLineupIndex","undefined","changeListPerPkg","changes","description","beforeChange","afterChange","listToChanges","EnumTable","title","enumList","onChange","usedIndexList","useState","editIndex","setEditIndex","setName","nameNew","setNameNew","addEnumItem","enumItem","enumListNew","localeCompare","onSubmitRename","indexFound","findIndex","slice","Table","celled","compact","selectable","Header","Row","HeaderCell","Body","active","Cell","Form","onSubmit","Field","disabled","value","e","target","Button","icon","size","onClick","onClickEdit","removeEnumItem","PkgTable","usedPkgIndexList","setLineupIndex","lineupIndexNew","setLineupIndexNew","pkgListNew","onSubmitEditPkg","removePkg","EnumSelector","selectedIndexList","selected","selectedIndex","color","Label","as","selectedIndexListNew","toggle","Icon","ChangeTable","customerList","setDescription","setBeforeChange","setAfterChange","setCustomerIndexList","descriptionNew","setDescriptionNew","beforeChangeNew","setBeforeChangeNew","afterChangeNew","setAfterChangeNew","customerIndexListNew","setCustomerIndexListNew","onSubmitEditChange","changeListNew","rowSpan","colSpan","TextArea","className","Fragment","changeFound","removeChange","ReleaseTable","setPkgIndex","pkgIndexNew","setPkgIndexNew","onSubmitEditRelease","releaseListNew","removeRelease","moveOlder","moveNewer","VersionComponent","versionPrevFound","Divider","horizontal","Subheader","versionRest","versionNew","VersionEditor","setIndexPrev","indexPrevNew","setIndexPrevNew","openModal","setOpenModal","setReleaseHistory","setIndex","onSubmitEditVersion","versionListNew","onClickPublish","versionFound","v1","index1","indexPrev1","v2","index2","indexPrev2","isVersionListCircular","releaseHistoryPerCustomerIndexListList","i","cil1","rh1","j","cil2","splice","relaseHistoryPerCustomerIndexList","customerNameJoined","publish","namePrev","versionReferringFound","removeVersion","Modal","open","onClose","Content","rows","Actions","navigator","clipboard","writeText","UNTITLED","PANE_VERSION","PANE_LINEUP","PANE_PACKAGE","PANE_CUSTOMER","App","file","refLoad","createRef","refSave","featureName","setFeatureName","setVersionList","setLineupList","setPkgList","setCustomerList","pane","setPane","reader","FileReader","onload","result","ArrayBuffer","indexLast","lastIndexOf","substring","parsed","JSON","parse","versionName","versionIndexPrev","changeIndex","targetCustomerList","targetCustomer","releaseIndex","customerName","load","usedLineupIndexList","indexPrevList","usedCustomerIndexList","indexListPrev","Menu","pointing","Item","current","click","blob","Blob","stringify","type","download","href","window","URL","createObjectURL","onClickSave","position","accept","hidden","ref","files","readAsText","Container","Segment","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8278c6d1.chunk.js","sourcesContent":["import { Change, Enum, OldCustomer, OldPkg, OldVersion, Pkg, Release, Version } from \"./types\";\n\ntype ReleaseHistoryPerCustomerIndexList = {\n  customerIndexList: number[];\n  releaseHistory: string;\n}\n\ntype ReleaseHistoryPerLineupIndex = {\n  lineupIndex: number;\n  releaseHistory: string;\n}\n\ntype ReleaseHistoryPerPkg = {\n  pkgName: string;\n  changeList: Change[];\n};\n\nfunction accumulateChangeList(\n  changeListAccumulated: Change[], customerIndex: number,\n  versionList: Version[], indexPrev: number,\n) {\n  let versionNext = versionList.find((version) => version.index === indexPrev);\n  while (versionNext) {\n    if (!versionNext) {\n      return versionNext;\n    }\n    const { indexPrev, changeList, releaseList } = versionNext;\n    const releaseFound = releaseList.find((release) => release.customerIndexList.includes(customerIndex));\n    if (releaseFound) {\n      break;\n    }\n    changeListAccumulated.unshift(\n      ...changeList.filter((change) => {\n        const { customerIndexList } = change;\n        return !customerIndexList.length || customerIndexList.includes(customerIndex);\n      })\n    );\n    versionNext = versionList.find((version) => version.index === indexPrev);\n  }\n  return versionNext;\n}\n\nexport function findEmptyIndex(indexList: number[]) {\n  return indexList\n    .sort((a, b) => a - b)\n    .reduce((indexPrev, index) => {\n      if (index === indexPrev) {\n        return indexPrev + 1;\n      }\n      return indexPrev;\n    }, 0);\n}\n\nexport function getEnumNameList(enumList: Enum[], indexList: number[]) {\n  return enumList\n    .filter((enumItem) => indexList.includes(enumItem.index))\n    .map((enumItem) => enumItem.name);\n}\n\nfunction indent(input: string) {\n  return input.replace(/^/gm, '    ');\n}\n\nfunction isVersionListCircular(versionList: Version[], index: number) {\n    const versionFound = versionList.find((version) => version.index === index);\n    if (!versionFound) {\n      return false;\n    }\n    let v1: Version | undefined = versionFound;\n    let { index: index1, indexPrev: indexPrev1 } = v1;\n    let v2: Version | undefined = versionFound;\n    let { index: index2, indexPrev: indexPrev2 } = v2;\n    while (v1 || v2) {\n      // eslint-disable-next-line no-loop-func\n      v1 = versionList.find((version) => version.index === indexPrev1);\n      if (!v1) {\n        return false;\n      }\n      ({ index: index1, indexPrev: indexPrev1 } = v1);\n      // eslint-disable-next-line no-loop-func\n      v2 = versionList.find((version) => version.index === indexPrev2);\n      if (!v2) {\n        return false;\n      }\n      ({ index: index2, indexPrev: indexPrev2 } = v2);\n      // eslint-disable-next-line no-loop-func\n      v2 = versionList.find((version) => version.index === indexPrev2);\n      if (!v2) {\n        return false;\n      }\n      ({ index: index2, indexPrev: indexPrev2 } = v2);\n      if (index1 === index2) {\n        return true;\n      }\n    }\n}\n\nexport function load(input: string) {\n  const parsed = JSON.parse(input);\n  const { versionList, lineupList, pkgList, customerList } = parsed;\n  // Check if it comes from release-history-manager\n  if (versionList[0] && versionList[0].versionIndex !== undefined) {\n    // Migrate\n    const versionListNew: Version[] = (versionList as OldVersion[]).map((version) => {\n      const { versionIndex: index, versionName: name, versionIndexPrev: indexPrev, changeList, releaseList } = version;\n      const changeListNew: Change[] = changeList.map((change) => {\n        const { changeIndex: index, description, beforeChange, afterChange, targetCustomerList } = change;\n        const customerIndexList = targetCustomerList.map((targetCustomer) => targetCustomer.customerIndex);\n        return { index, description, beforeChange, afterChange, customerIndexList, lineupIndex: -1 };\n      });\n      const releaseListNew: Release[] = releaseList.map((release) => {\n        const { releaseIndex: index, pkgIndex, targetCustomerList } = release;\n        const customerIndexList = targetCustomerList.map((targetCustomer) => targetCustomer.customerIndex);\n        return { index, pkgIndex, customerIndexList };\n      })\n      return {\n        index,\n        name,\n        indexPrev,\n        changeList: changeListNew,\n        releaseList: releaseListNew,\n      }\n    });\n    const pkgListNew: Pkg[] = (pkgList as OldPkg[]).map((pkg) => {\n      const { pkgIndex: index, pkgName: name } = pkg;\n      return { index, name, lineupIndex: -1 };\n    });\n    const customerListNew: Enum[] = (customerList as OldCustomer[]).map((customer) => {\n      const { customerIndex: index, customerName: name } = customer;\n      return { index, name };\n    });\n    return { versionList: versionListNew, lineupList: [], pkgList: pkgListNew, customerList: customerListNew };\n  } else {\n    // TODO: Check validity\n  }\n  return { versionList, lineupList, pkgList, customerList };\n}\n\nexport function publish(versionList: Version[], versionIndex: number, lineupList: Enum[], pkgList: Pkg[], customerList: Enum[]) {\n  if (isVersionListCircular(versionList, versionIndex)) {\n    return;\n  }\n  const releaseHistoryPerCustomerIndexListList: ReleaseHistoryPerCustomerIndexList[] = [];\n  // Generate\n  customerList.forEach((customer) => {\n    releaseHistoryPerCustomerIndexListList.push({\n      customerIndexList: [customer.index],\n      releaseHistory: publishPerCustomer(versionList, versionIndex, lineupList, pkgList, customer),\n    });\n  });\n  // Merge\n  for (let i = releaseHistoryPerCustomerIndexListList.length - 1; i >= 0; i -= 1) {\n    const { customerIndexList: cil1, releaseHistory: rh1 } = releaseHistoryPerCustomerIndexListList[i];\n    for (let j = i - 1; j >= 0; j -= 1) {\n      const { customerIndexList: cil2, releaseHistory: rh2 } = releaseHistoryPerCustomerIndexListList[j];\n      if (rh1 === rh2) {\n        cil2.push(...cil1);\n        releaseHistoryPerCustomerIndexListList.splice(i, 1);\n        break;\n      }\n    }\n  }\n  // Export\n  const releaseHistory = releaseHistoryPerCustomerIndexListList\n    .filter((relaseHistoryPerCustomerIndexList) => relaseHistoryPerCustomerIndexList.releaseHistory)\n    .map((relaseHistoryPerCustomerIndexList) => {\n      const { customerIndexList, releaseHistory } = relaseHistoryPerCustomerIndexList;\n      const customerNameJoined = getEnumNameList(customerList, customerIndexList).join(', ');\n      return `<${customerNameJoined}>\n${indent(releaseHistory)}\n</${customerNameJoined}>`;\n    }).join('\\n');\n  return releaseHistory;\n}\n\nfunction publishPerCustomer(versionList: Version[], versionIndex: number, lineupList: Enum[], pkgList: Pkg[], customer: Enum) {\n  const candidateLineupIndexList = [-1, ...lineupList.map((lineup) => lineup.index)];\n  const releaseHistoryPerLineupList: ReleaseHistoryPerLineupIndex[] = [];\n  candidateLineupIndexList.forEach((lineupIndex) => {\n    releaseHistoryPerLineupList.push({\n      lineupIndex,\n      releaseHistory: publishPerLineup(versionList, versionIndex, lineupIndex, pkgList, customer),\n    });\n  })\n  const releaseHistory = releaseHistoryPerLineupList\n    .filter((releaseHistoryPerLineup) => releaseHistoryPerLineup.releaseHistory)\n    .map((releaseHistoryPerLineup) => {\n      const { lineupIndex, releaseHistory } = releaseHistoryPerLineup;\n      const lineupFound = lineupList.find((lineup) => lineup.index === lineupIndex);\n      if (!lineupFound) {\n        return indent(releaseHistory);\n      } else {\n        const lineupName = lineupFound.name;\n        return `<${lineupName}>\n${indent(releaseHistory)}\n</${lineupName}>`;\n      }\n    }).join('\\n');\n  return releaseHistory;\n}\n\nfunction publishPerLineup(versionList: Version[], versionIndex: number, lineupIndex: number, pkgList: Pkg[], customer: Enum) {\n  let versionNext = versionList.find((version) => version.index === versionIndex);\n  const { index: customerIndex } = customer;\n  const changeListPerPkgList: ReleaseHistoryPerPkg[] = [];\n  while(versionNext) {\n    const { indexPrev, changeList, releaseList } = versionNext;\n    // Check the current version is released\n    const releaseFound = releaseList.find((release) => {\n      const customerIncluded = release.customerIndexList.includes(customerIndex);\n      if (!customerIncluded) {\n        return false;\n      }\n      const { pkgIndex } = release;\n      const pkgFound = pkgList.find((pkg) => pkg.lineupIndex === lineupIndex && pkg.index === pkgIndex);\n      return !!pkgFound;\n    });\n    // If the current version is not released, it is not for the given customer\n    if (!releaseFound) {\n      versionNext = undefined;\n    } else {\n      const { pkgIndex } = releaseFound;\n      const pkgFound = pkgList.find((pkg) => pkg.index === pkgIndex);\n      if (!pkgFound) {\n        // This is not going to happen\n        break;\n      } else {\n        const { name: pkgName, lineupIndex: pkgLineupIndex } = pkgFound;\n        const changeListAccumulated = [\n          ...changeList.filter((change) => {\n            const { customerIndexList, lineupIndex: changeLineupIndex } = change;\n            return (!customerIndexList.length || customerIndexList.includes(customerIndex))\n                   && pkgLineupIndex === changeLineupIndex;\n          }),\n        ];\n        // Accumulate unreleased versions and get the second latest released version\n        versionNext = accumulateChangeList(changeListAccumulated, customerIndex, versionList, indexPrev);\n        changeListPerPkgList.unshift({ pkgName, changeList: changeListAccumulated });\n      }\n    }\n  }\n  const releaseHistory = changeListPerPkgList.map((changeListPerPkg, index) => {\n    const { pkgName, changeList } = changeListPerPkg;\n    const changes = index === 0 ? `[Description]\n${indent('- Initial release')}` : changeList.map((change) => {\n      const { description, beforeChange, afterChange } = change;\n      const listToChanges = [\n        '[Description]',\n        indent(description),\n      ];\n      if (beforeChange) {\n        listToChanges.push(indent('[Before change]'));\n        listToChanges.push(indent(indent(beforeChange)));\n      }\n      if (afterChange) {\n        listToChanges.push(indent('[After change]'));\n        listToChanges.push(indent(indent(afterChange)));\n      }\n      return listToChanges.join('\\n');\n    }).join('\\n');\n    return `${pkgName}\n${indent(changes)}`\n  }).join('\\n');\n  return releaseHistory;\n}\n","import { useState } from \"react\";\nimport { Button, Form, Table } from \"semantic-ui-react\";\nimport { Enum } from \"../types\";\nimport { findEmptyIndex } from \"../utils\";\n\ntype Props = {\n  title: string;\n  enumList: Enum[];\n  onChange: (enumList: Enum[]) => void;\n  usedIndexList?: number[];\n};\n\nexport default function EnumTable({ title, enumList, onChange, usedIndexList }: Props) {\n  const [editIndex, setEditIndex] = useState(-1);\n  const [name, setName] = useState('');\n  const [nameNew, setNameNew] = useState('');\n\n  function addEnumItem() {\n    if (!name) {\n      return;\n    }\n    const enumItemFound = enumList.find((enumItem) => enumItem.name === name);\n    if (enumItemFound) {\n      return;\n    }\n    const index = findEmptyIndex(enumList.map((enumItem) => enumItem.index));\n    const enumListNew = [\n      ...enumList,\n      { index, name },\n    ].sort((a, b) => a.name.localeCompare(b.name));\n    onChange(enumListNew);\n    setName('');\n  }\n\n  function onClickEdit(index: number) {\n    const enumItem = enumList.find((enumItem) => enumItem.index === index);\n    if (!enumItem) {\n      return;\n    }\n    setNameNew(enumItem.name);\n    setEditIndex(index);\n  }\n\n  function onSubmitRename(index: number) {\n    if (!nameNew) {\n      return;\n    }\n    const enumItemFound = enumList.find((enumItem) => enumItem.index !== index && enumItem.name === nameNew);\n    if (enumItemFound) {\n      return;\n    }\n    const indexFound = enumList.findIndex((enumItem) => enumItem.index === index);\n    if (indexFound === -1) {\n      return;\n    }\n    const enumListNew = [\n      ...enumList.slice(0, indexFound),\n      { index, name: nameNew },\n      ...enumList.slice(indexFound + 1),\n    ];\n    onChange(enumListNew);\n    setEditIndex(-1);\n  }\n\n  function removeEnumItem(index: number) {\n    if (usedIndexList && usedIndexList.includes(index)) {\n      return;\n    }\n    const indexFound = enumList.findIndex((enumItem) => enumItem.index === index);\n    if (indexFound === -1) {\n      return;\n    }\n    const enumListNew = [\n      ...enumList.slice(0, indexFound),\n      ...enumList.slice(indexFound + 1),\n    ];\n    onChange(enumListNew);\n  }\n\n  return (\n    <Table celled compact selectable>\n      <Table.Header>\n        <Table.Row>\n          <Table.HeaderCell>{title}</Table.HeaderCell>\n          <Table.HeaderCell>Actions</Table.HeaderCell>\n        </Table.Row>\n      </Table.Header>\n      <Table.Body>\n        <Table.Row active>\n          <Table.Cell>\n            <Form onSubmit={addEnumItem}>\n              <Form.Field disabled={editIndex !== -1}>\n                <input value={name} onChange={(e) => setName(e.target.value)} />\n              </Form.Field>\n            </Form>\n          </Table.Cell>\n          <Table.Cell>\n            <Button\n              icon='plus' size='tiny'\n              onClick={addEnumItem}\n              disabled={editIndex !== -1}\n            />\n          </Table.Cell>\n        </Table.Row>\n        {\n          enumList.map((enumItem) => {\n            const { index, name } = enumItem;\n            return index === editIndex ? (\n              <Table.Row key={index}>\n                <Table.Cell>\n                  <Form onSubmit={() => onSubmitRename(index)}>\n                    <Form.Field>\n                      <input value={nameNew} onChange={(e) => setNameNew(e.target.value)} />\n                    </Form.Field>\n                  </Form>\n                </Table.Cell>\n                <Table.Cell>\n                  <Button icon='check' size='tiny' onClick={() => onSubmitRename(index)} />\n                  <Button icon='cancel' size='tiny' onClick={() => setEditIndex(-1)} />\n                </Table.Cell>\n              </Table.Row>\n            ) : (\n              <Table.Row key={index}>\n                <Table.Cell>{name}</Table.Cell>\n                <Table.Cell>\n                  <Button icon='edit' size='tiny' onClick={() => onClickEdit(index)} />\n                  <Button icon='trash' size='tiny' onClick={() => removeEnumItem(index)}\n                    disabled={usedIndexList && usedIndexList.includes(index)}\n                  />\n                </Table.Cell>\n              </Table.Row>\n            )\n          })\n        }\n      </Table.Body>\n    </Table>\n  );\n}\n","import { useState } from \"react\";\nimport { Button, Form, Table } from \"semantic-ui-react\";\nimport { Enum, Pkg } from \"../types\";\nimport { findEmptyIndex } from \"../utils\";\n\ntype Props = {\n  pkgList: Pkg[];\n  lineupList: Enum[];\n  onChange: (pkgList: Pkg[]) => void;\n  usedPkgIndexList?: number[];\n};\n\nexport default function PkgTable({ pkgList, lineupList, onChange, usedPkgIndexList }: Props) {\n  const [editIndex, setEditIndex] = useState(-1);\n  const [name, setName] = useState('');\n  const [lineupIndex, setLineupIndex] = useState(-1);\n  const [nameNew, setNameNew] = useState('');\n  const [lineupIndexNew, setLineupIndexNew] = useState(-1);\n\n  function addPkg() {\n    if (!name) {\n      return;\n    }\n    const pkgFound = pkgList.find((pkg) => pkg.name === name);\n    if (pkgFound) {\n      return;\n    }\n    const index = findEmptyIndex(pkgList.map((pkg) => pkg.index));\n    const pkgListNew = [\n      ...pkgList,\n      { index, name, lineupIndex },\n    ].sort((a, b) => a.name.localeCompare(b.name));\n    onChange(pkgListNew);\n    setName('');\n  }\n\n  function onClickEdit(index: number) {\n    const pkgFound = pkgList.find((pkg) => pkg.index === index);\n    if (!pkgFound) {\n      return;\n    }\n    setNameNew(pkgFound.name);\n    setLineupIndexNew(pkgFound.lineupIndex);\n    setEditIndex(index);\n  }\n\n  function onSubmitEditPkg(index: number) {\n    if (!nameNew) {\n      return;\n    }\n    const pkgFound = pkgList.find((pkg) => pkg.index !== index && pkg.name === nameNew);\n    if (pkgFound) {\n      return;\n    }\n    const indexFound = pkgList.findIndex((pkg) => pkg.index === index);\n    if (indexFound === -1) {\n      return;\n    }\n    const pkgListNew = [\n      ...pkgList.slice(0, indexFound),\n      { index, name: nameNew, lineupIndex: lineupIndexNew },\n      ...pkgList.slice(indexFound + 1),\n    ];\n    onChange(pkgListNew);\n    setEditIndex(-1);\n  }\n\n  function removePkg(index: number) {\n    if (usedPkgIndexList && usedPkgIndexList.includes(index)) {\n      return;\n    }\n    const indexFound = pkgList.findIndex((pkg) => pkg.index === index);\n    if (indexFound === -1) {\n      return;\n    }\n    const enumListNew = [\n      ...pkgList.slice(0, indexFound),\n      ...pkgList.slice(indexFound + 1),\n    ];\n    onChange(enumListNew);\n  }\n\n  return (\n    <Table celled compact selectable>\n      <Table.Header>\n        <Table.Row>\n          <Table.HeaderCell>Package</Table.HeaderCell>\n          <Table.HeaderCell>Lineup</Table.HeaderCell>\n          <Table.HeaderCell>Actions</Table.HeaderCell>\n        </Table.Row>\n      </Table.Header>\n      <Table.Body>\n        <Table.Row active>\n          <Table.Cell>\n            <Form>\n              <Form.Field disabled={editIndex !== -1}>\n                <input value={name} onChange={(e) => setName(e.target.value)} />\n              </Form.Field>\n            </Form>\n          </Table.Cell>\n          <Table.Cell>\n            <Form>\n              <Form.Field disabled={editIndex !== -1}>\n                <select value={lineupIndex} onChange={(e) => setLineupIndex(+e.target.value)}>\n                  <option value={-1}>(None)</option>\n                  {\n                    lineupList.map((lineup) => {\n                      const { index, name} = lineup;\n                      return (\n                        <option key={index} value={index}>{name}</option>\n                      );\n                    })\n                  }\n                </select>\n              </Form.Field>\n            </Form>\n          </Table.Cell>\n          <Table.Cell>\n            <Button\n              icon='plus' size='tiny'\n              onClick={addPkg}\n              disabled={editIndex !== -1}\n            />\n          </Table.Cell>\n        </Table.Row>\n        {\n          pkgList.map((pkg) => {\n            const { index, name, lineupIndex } = pkg;\n            const lineupFound = lineupList.find((lineup) => lineup.index === lineupIndex);\n            const lineup = lineupFound ? lineupFound.name : '(None)';\n            return index === editIndex ? (\n              <Table.Row key={index}>\n                <Table.Cell>\n                  <Form>\n                    <Form.Field>\n                      <input value={nameNew} onChange={(e) => setNameNew(e.target.value)} />\n                    </Form.Field>\n                  </Form>\n                </Table.Cell>\n                <Table.Cell>\n                  <Form>\n                    <Form.Field>\n                      <select value={lineupIndexNew} onChange={(e) => setLineupIndexNew(+e.target.value)}>\n                        <option value={-1}>(None)</option>\n                        {\n                          lineupList.map((lineup) => {\n                            const { index, name } = lineup;\n                            return (\n                              <option key={index} value={index}>{name}</option>\n                            )\n                          })\n                        }\n                      </select>\n                    </Form.Field>\n                  </Form>\n                </Table.Cell>\n                <Table.Cell>\n                  <Button icon='check' size='tiny' onClick={() => onSubmitEditPkg(index)} />\n                  <Button icon='cancel' size='tiny' onClick={() => setEditIndex(-1)} />\n                </Table.Cell>\n              </Table.Row>\n            ) : (\n              <Table.Row key={index}>\n                <Table.Cell>{name}</Table.Cell>\n                <Table.Cell>{lineup}</Table.Cell>\n                <Table.Cell>\n                  <Button icon='edit' size='tiny' onClick={() => onClickEdit(index)} />\n                  <Button icon='trash' size='tiny' onClick={() => removePkg(index)}\n                    disabled={usedPkgIndexList && usedPkgIndexList.includes(index)}\n                  />\n                </Table.Cell>\n              </Table.Row>\n            )\n          })\n        }\n      </Table.Body>\n    </Table>\n  );\n}\n","import { Icon, Label } from \"semantic-ui-react\";\nimport { Enum } from \"../types\";\n\ntype Props = {\n  enumList: Enum[];\n  selectedIndexList: number[];\n  onChange: (selectedIndexList: number[]) => void;\n  disabled?: boolean;\n};\n\nexport default function EnumSelector({ enumList, selectedIndexList, onChange, disabled }: Props) {\n  function toggle(index: number) {\n    if (disabled) {\n      return;\n    }\n    const indexFound = selectedIndexList.findIndex((selectedIndex) => selectedIndex === index);\n    const selectedIndexListNew = indexFound === -1 ? [\n      ...selectedIndexList,\n      index,\n    ] : [\n      ...selectedIndexList.slice(0, indexFound),\n      ...selectedIndexList.slice(indexFound + 1),\n    ];\n    onChange(selectedIndexListNew);\n  }\n\n  return (\n    <>\n      {\n        enumList.map((enumItem) => {\n          const { index, name } = enumItem;\n          const selected = selectedIndexList.find((selectedIndex) => selectedIndex=== index) !== undefined;\n          const color = selected ? 'blue' : undefined;\n          const icon = selected ? 'plus' : 'minus';\n          return (\n            <Label key={index} as='a' color={color} onClick={() => toggle(index)}>\n              <Icon name={icon} />\n              {name}\n            </Label>\n          )\n        })\n      }\n    </>\n  );\n}\n","import React from \"react\";\nimport { useState } from \"react\";\nimport { Button, Form, Table, TextArea } from \"semantic-ui-react\";\nimport { Change, Enum } from \"../types\";\nimport { findEmptyIndex } from \"../utils\";\nimport EnumSelector from \"./EnumSelector\";\n\nconst COLSPAN = 4;\nconst ROWSPAN = 2;\n\ntype Props = {\n  changeList: Change[];\n  lineupList: Enum[];\n  customerList: Enum[];\n  onChange: (changeList: Change[]) => void;\n};\n\nexport default function ChangeTable({\n  changeList, lineupList, customerList,\n  onChange,\n}: Props) {\n  const [description, setDescription] = useState('');\n  const [beforeChange, setBeforeChange] = useState('');\n  const [afterChange, setAfterChange] = useState('');\n  const [customerIndexList, setCustomerIndexList] = useState<number[]>([]);\n  const [lineupIndex, setLineupIndex] = useState(-1);\n  const [editIndex, setEditIndex] = useState(-1);\n  const [descriptionNew, setDescriptionNew] = useState('');\n  const [beforeChangeNew, setBeforeChangeNew] = useState('');\n  const [afterChangeNew, setAfterChangeNew] = useState('');\n  const [customerIndexListNew, setCustomerIndexListNew] = useState<number[]>([]);\n  const [lineupIndexNew, setLineupIndexNew] = useState(-1);\n\n  function addChange() {\n    if (!description) {\n      return;\n    }\n    const index = findEmptyIndex(changeList.map((change) => change.index));\n    const changeListNew = [\n      ...changeList,\n      { index, description, beforeChange, afterChange, customerIndexList, lineupIndex },\n    ];\n    onChange(changeListNew);\n    setDescription('');\n    setBeforeChange('');\n    setAfterChange('');\n    setCustomerIndexList([]);\n    setLineupIndex(-1);\n  }\n\n  function onClickEdit(index: number) {\n    const changeFound = changeList.find((change) => change.index === index);\n    if (!changeFound) {\n      return;\n    }\n    const { description, beforeChange, afterChange, lineupIndex, customerIndexList } = changeFound;\n    setDescriptionNew(description);\n    setBeforeChangeNew(beforeChange);\n    setAfterChangeNew(afterChange);\n    setLineupIndexNew(lineupIndex);\n    setCustomerIndexListNew(customerIndexList);\n    setEditIndex(index);\n  }\n\n  function onSubmitEditChange() {\n    const indexFound = changeList.findIndex((change) => change.index === editIndex);\n    if (indexFound === -1) {\n      return;\n    }\n    const changeListNew = [\n      ...changeList.slice(0, indexFound),\n      {\n        index: editIndex,\n        description: descriptionNew,\n        beforeChange: beforeChangeNew,\n        afterChange: afterChangeNew,\n        customerIndexList: customerIndexListNew,\n        lineupIndex: lineupIndexNew,\n      },\n      ...changeList.slice(indexFound + 1),\n    ];\n    onChange(changeListNew);\n    setEditIndex(-1);\n  }\n\n  function removeChange(index: number) {\n    const indexFound = changeList.findIndex((change) => change.index === index);\n    const changeListNew = [\n      ...changeList.slice(0, indexFound),\n      ...changeList.slice(indexFound + 1),\n    ];\n    onChange(changeListNew);\n  }\n\n  return (\n    <Table celled compact selectable>\n      <Table.Header>\n        <Table.Row>\n          <Table.HeaderCell>Description</Table.HeaderCell>\n          <Table.HeaderCell>Before change</Table.HeaderCell>\n          <Table.HeaderCell>After change</Table.HeaderCell>\n          <Table.HeaderCell>Lineup</Table.HeaderCell>\n          <Table.HeaderCell rowSpan={ROWSPAN}>Actions</Table.HeaderCell>\n        </Table.Row>\n        <Table.Row>\n          <Table.HeaderCell colSpan={COLSPAN}>Customers</Table.HeaderCell>\n        </Table.Row>\n      </Table.Header>\n      <Table.Body>\n        <Table.Row active>\n          <Table.Cell>\n            <Form>\n              <Form.Field disabled={editIndex !== -1}>\n                <TextArea value={description} onChange={(e) => setDescription(e.target.value)}\n                  className='no-resize-textarea'\n                />\n              </Form.Field>\n            </Form>\n          </Table.Cell>\n          <Table.Cell>\n            <Form>\n              <Form.Field disabled={editIndex !== -1}>\n                <TextArea value={beforeChange} onChange={(e) => setBeforeChange(e.target.value)}\n                  className='no-resize-textarea'\n                />\n              </Form.Field>\n            </Form>\n          </Table.Cell>\n          <Table.Cell>\n            <Form>\n              <Form.Field disabled={editIndex !== -1}>\n                <TextArea value={afterChange} onChange={(e) => setAfterChange(e.target.value)}\n                  className='no-resize-textarea'\n                />\n              </Form.Field>\n            </Form>\n          </Table.Cell>\n          <Table.Cell>\n            <Form>\n              <Form.Field disabled={editIndex !== -1}>\n                <select value={lineupIndex} onChange={(e) => setLineupIndex(+e.target.value)}>\n                  <option value={-1}>(None)</option>\n                  {\n                    lineupList.map((lineup) => {\n                      const { index, name } = lineup;\n                      return (\n                        <option key={index} value={index}>{name}</option>\n                      )\n                    })\n                  }\n                </select>\n              </Form.Field>\n            </Form>\n          </Table.Cell>\n          <Table.Cell rowSpan={ROWSPAN}>\n            <Button icon='plus' size='tiny' onClick={addChange} disabled={editIndex !== -1} />\n          </Table.Cell>\n        </Table.Row>\n        <Table.Row active>\n          <Table.Cell colSpan={COLSPAN}>\n            <EnumSelector enumList={customerList} selectedIndexList={customerIndexList}\n              onChange={setCustomerIndexList}\n              disabled={editIndex !== -1}\n            />\n          </Table.Cell>\n        </Table.Row>\n        {\n          changeList.map((change) => {\n            const { index, description, beforeChange, afterChange, customerIndexList, lineupIndex } = change;\n            const lineupFound = lineupList.find((lineup) => lineup.index === lineupIndex);\n            const lineup = lineupFound ? lineupFound.name : '(None)';\n            return index === editIndex ? (\n              <React.Fragment key={index}>\n                <Table.Row>\n                  <Table.Cell>\n                    <Form>\n                      <Form.Field>\n                        <TextArea value={descriptionNew} onChange={(e) => setDescriptionNew(e.target.value)}\n                          className='no-resize-textarea'\n                        />\n                      </Form.Field>\n                    </Form>\n                  </Table.Cell>\n                  <Table.Cell>\n                    <Form>\n                      <Form.Field>\n                        <TextArea value={beforeChangeNew} onChange={(e) => setBeforeChangeNew(e.target.value)}\n                          className='no-resize-textarea'\n                        />\n                      </Form.Field>\n                    </Form>\n                  </Table.Cell>\n                  <Table.Cell>\n                    <Form>\n                      <Form.Field>\n                        <TextArea value={afterChangeNew} onChange={(e) => setAfterChangeNew(e.target.value)}\n                          className='no-resize-textarea'\n                        />\n                      </Form.Field>\n                    </Form>\n                  </Table.Cell>\n                  <Table.Cell>\n                    <Form>\n                      <Form.Field>\n                        <select value={lineupIndexNew} onChange={(e) => setLineupIndexNew(+e.target.value)}>\n                          <option value={-1}>(None)</option>\n                          {\n                            lineupList.map((lineup) => {\n                              const { index, name } = lineup;\n                              return (\n                                <option key={index} value={index}>{name}</option>\n                              )\n                            })\n                          }\n                        </select>\n                      </Form.Field>\n                    </Form>\n                  </Table.Cell>\n                  <Table.Cell rowSpan={ROWSPAN}>\n                    <Button icon='check' size='tiny' onClick={onSubmitEditChange} />\n                    <Button icon='cancel' size='tiny' onClick={() => setEditIndex(-1)} />\n                  </Table.Cell>\n                </Table.Row>\n                <Table.Row>\n                  <Table.Cell colSpan={COLSPAN}>\n                    <EnumSelector enumList={customerList} selectedIndexList={customerIndexListNew}\n                      onChange={setCustomerIndexListNew}\n                    />\n                  </Table.Cell>\n                </Table.Row>\n              </React.Fragment>\n            ) : (\n              <React.Fragment key={index}>\n                <Table.Row>\n                  <Table.Cell>\n                    <Form>\n                      <Form.Field>\n                        <TextArea value={description} className='no-border-textarea no-resize-textarea' />\n                      </Form.Field>\n                    </Form>\n                  </Table.Cell>\n                  <Table.Cell>\n                    <Form>\n                      <Form.Field>\n                        <TextArea value={beforeChange} className='no-border-textarea no-resize-textarea' />\n                      </Form.Field>\n                    </Form>\n                  </Table.Cell>\n                  <Table.Cell>\n                    <Form>\n                      <Form.Field>\n                        <TextArea value={afterChange} className='no-border-textarea no-resize-textarea' />\n                      </Form.Field>\n                    </Form>\n                  </Table.Cell>\n                  <Table.Cell>{lineup}</Table.Cell>\n                  <Table.Cell rowSpan={ROWSPAN}>\n                    <Button icon='edit' size='tiny' onClick={() => onClickEdit(index)} />\n                    <Button icon='trash' size='tiny' onClick={() => removeChange(index)} />\n                  </Table.Cell>\n                </Table.Row>\n                <Table.Row>\n                  <Table.Cell colSpan={COLSPAN}>\n                    {\n                      customerList\n                        .filter((customer) => customerIndexList.find((customerIndex) => customer.index === customerIndex) !== undefined)\n                        .map((customer) => customer.name)\n                        .join(', ')\n                    }\n                  </Table.Cell>\n                </Table.Row>\n              </React.Fragment>\n            )\n          })\n        }\n      </Table.Body>\n      {\n        changeList.map((change) => <></>)\n      }\n    </Table>\n  )\n}\n","import React from \"react\";\nimport { useState } from \"react\";\nimport { Button, Form, Icon, Table } from \"semantic-ui-react\";\nimport { Enum, Pkg, Release } from \"../types\";\nimport { findEmptyIndex } from \"../utils\";\nimport EnumSelector from \"./EnumSelector\";\n\ntype Props ={ \n  releaseList: Release[];\n  lineupList: Enum[];\n  pkgList: Pkg[];\n  customerList: Enum[];\n  onChange: (releaseList: Release[]) => void;\n}\n\nexport default function ReleaseTable({\n  releaseList, lineupList, pkgList, customerList,\n  onChange,\n}: Props) {\n  const [pkgIndex, setPkgIndex] = useState(-1);\n  const [customerIndexList, setCustomerIndexList] = useState<number[]>([]);\n  const [editIndex, setEditIndex] = useState(-1);\n  const [pkgIndexNew, setPkgIndexNew] = useState(-1);\n  const [customerIndexListNew, setCustomerIndexListNew] = useState<number[]>([]);\n\n  function addRelease() {\n    if (pkgIndex === -1) {\n      return;\n    }\n    if (!customerIndexList.length) {\n      return;\n    }\n    const releaseFound = releaseList.find((release) => release.pkgIndex === pkgIndex);\n    if (releaseFound) {\n      return;\n    }\n    const index = findEmptyIndex(releaseList.map((release) => release.index));\n    const releaseListNew = [\n      ...releaseList,\n      { index, pkgIndex, customerIndexList },\n    ];\n    onChange(releaseListNew);\n    setPkgIndex(-1);\n    setCustomerIndexList([]);\n  }\n\n  function moveNewer(index: number) {\n    const indexFound = releaseList.findIndex((release) => release.index === index);\n    if (indexFound === -1) {\n      return;\n    }\n    if (indexFound === releaseList.length - 1) {\n      return;\n    }\n    const releaseListNew = [\n      ...releaseList.slice(0, indexFound),\n      releaseList[indexFound + 1],\n      releaseList[indexFound],\n      ...releaseList.slice(indexFound + 2),\n    ];\n    onChange(releaseListNew);\n  }\n\n  function moveOlder(index: number) {\n    const indexFound = releaseList.findIndex((release) => release.index === index);\n    if (indexFound === -1) {\n      return;\n    }\n    if (indexFound === 0) {\n      return;\n    }\n    const releaseListNew = [\n      ...releaseList.slice(0, indexFound - 1),\n      releaseList[indexFound],\n      releaseList[indexFound - 1],\n      ...releaseList.slice(indexFound + 1),\n    ];\n    onChange(releaseListNew);\n  }\n\n  function onClickEdit(index: number) {\n    const releaseFound = releaseList.find((release) => release.index === index);\n    if (!releaseFound) {\n      return;\n    }\n    const { pkgIndex, customerIndexList } = releaseFound;\n    const pkgFound = pkgList.find((pkg) => pkg.index === pkgIndex);\n    if (!pkgFound) {\n      return;\n    }\n    setPkgIndexNew(pkgIndex);\n    setCustomerIndexListNew(customerIndexList);\n    setEditIndex(index);\n  }\n\n  function onSubmitEditRelease() {\n    if (!customerIndexListNew.length) {\n      return;\n    }\n    const releaseFound = releaseList.find((release) => release.index !== editIndex && release.pkgIndex === pkgIndexNew);\n    if (releaseFound) {\n      return;\n    }\n    const indexFound = releaseList.findIndex((release) => release.index === editIndex);\n    if (indexFound === -1) {\n      return;\n    }\n    const releaseListNew = [\n      ...releaseList.slice(0, indexFound),\n      {\n        index: editIndex,\n        pkgIndex: pkgIndexNew,\n        customerIndexList: customerIndexListNew,\n      },\n      ...releaseList.slice(indexFound + 1),\n    ];\n    onChange(releaseListNew);\n    setEditIndex(-1);\n  }\n\n  function removeRelease(index: number) {\n    const indexFound = releaseList.findIndex((release) => release.index === index);\n    if (indexFound === -1) {\n      return;\n    }\n    const releaseListNew = [\n      ...releaseList.slice(0, indexFound),\n      ...releaseList.slice(indexFound + 1),\n    ];\n    onChange(releaseListNew);\n  }\n\n  return (\n    <Table celled compact selectable>\n      <Table.Header>\n        <Table.Row>\n          <Table.HeaderCell>Package</Table.HeaderCell>\n          <Table.HeaderCell rowSpan={2}>Actions</Table.HeaderCell>\n        </Table.Row>\n        <Table.Row>\n          <Table.HeaderCell>Customers</Table.HeaderCell>\n        </Table.Row>\n      </Table.Header>\n      <Table.Body>\n        <Table.Row active>\n          <Table.Cell>\n            <Form>\n              <Form.Field disabled={editIndex !== -1}>\n                <select value={pkgIndex} onChange={(e) => setPkgIndex(+e.target.value)}>\n                  <option value={-1}>Select a package</option>\n                  {\n                    pkgList.map((pkg) => {\n                      const { index, name, lineupIndex } = pkg;\n                      const lineupFound = lineupList.find((lineup) => lineup.index === lineupIndex);\n                      const lineup = `- Lineup: ${lineupFound ? lineupFound.name : '(None)'}`;\n                      return (\n                        <option key={index} value={index}>{name} {lineup}</option>\n                      )\n                    })\n                  }\n                </select>\n              </Form.Field>\n            </Form>\n          </Table.Cell>\n          <Table.Cell rowSpan={2}>\n            <Button icon='plus' size='tiny' onClick={addRelease} disabled={editIndex !== -1} />\n          </Table.Cell>\n        </Table.Row>\n        <Table.Row active>\n          <Table.Cell>\n            <EnumSelector enumList={customerList} selectedIndexList={customerIndexList}\n              onChange={setCustomerIndexList}\n              disabled={editIndex !== -1}\n            />\n          </Table.Cell>\n        </Table.Row>\n        {\n          releaseList.map((release) => {\n            const { index, pkgIndex, customerIndexList }= release;\n            const pkgFound = pkgList.find((pkg) => pkg.index === pkgIndex) as Pkg;\n            const { name, lineupIndex } = pkgFound;\n            const lineupFound = lineupList.find((lineup) => lineup.index === lineupIndex);\n            const lineup = `- Lineup: ${lineupFound ? lineupFound.name : '(None)'}`;\n            return index === editIndex ? (\n              <React.Fragment key={index}>\n                <Table.Row>\n                  <Table.Cell>\n                    <Form>\n                      <Form.Field>\n                        <select value={pkgIndexNew} onChange={(e) => setPkgIndexNew(+e.target.value)}>\n                          {\n                            pkgList.map((pkg) => {\n                              const { index, name, lineupIndex } = pkg;\n                              const lineupFound = lineupList.find((lineup) => lineup.index === lineupIndex);\n                              const lineup = `- Lineup: ${lineupFound ? lineupFound.name : '(None)'}`;\n                              return (\n                                <option key={index} value={index}>{name} {lineup}</option>\n                              )\n                            })\n                          }\n                        </select>\n                      </Form.Field>\n                    </Form>\n                  </Table.Cell>\n                  <Table.Cell rowSpan={2}>\n                    <Button icon='check' size='tiny' onClick={onSubmitEditRelease} />\n                    <Button icon='cancel' size='tiny' onClick={() => setEditIndex(-1)} />\n                  </Table.Cell>\n                </Table.Row>\n                <Table.Row key={`${index}-lower`}>\n                  <Table.Cell>\n                    <EnumSelector enumList={customerList} selectedIndexList={customerIndexListNew}\n                      onChange={setCustomerIndexListNew}\n                    />\n                  </Table.Cell>\n                </Table.Row>\n              </React.Fragment>\n            ) : (\n              <React.Fragment key={index}>\n                <Table.Row>\n                  <Table.Cell>\n                    {name} {lineup}\n                  </Table.Cell>\n                  <Table.Cell rowSpan={2}>\n                    <Button icon='edit' size='tiny' onClick={() => onClickEdit(index)} />\n                    <Button icon='trash' size='tiny' onClick={() => removeRelease(index)} />\n                    <Button icon size='tiny' onClick={() => moveOlder(index)} disabled={editIndex !== -1}>\n                      <Icon name='angle up' />\n                      Older\n                    </Button>\n                    <Button icon size='tiny' onClick={() => moveNewer(index)} disabled={editIndex !== -1}>\n                      <Icon name='angle down' />\n                      Newer\n                    </Button>\n                  </Table.Cell>\n                </Table.Row>\n                <Table.Row>\n                  <Table.Cell>\n                    {\n                      customerList\n                        .filter((customer) => customerIndexList.find((customerIndex) => customer.index === customerIndex) !== undefined)\n                        .map((customer) => customer.name)\n                        .join(', ')\n                    }\n                  </Table.Cell>\n                </Table.Row>\n              </React.Fragment>\n            )\n          })\n        }\n      </Table.Body>\n    </Table>\n  )\n}\n","import { Divider, Header } from \"semantic-ui-react\";\nimport { Change, Enum, Pkg, Release, Version } from \"../types\";\nimport ChangeTable from \"./ChangeTable\";\nimport ReleaseTable from \"./ReleaseTable\";\n\ntype Props = {\n  version: Version;\n  versionList: Version[];\n  lineupList: Enum[];\n  pkgList: Pkg[];\n  customerList: Enum[];\n  onChange: (version: Version) => void;\n};\n\nexport default function VersionComponent({\n  version, versionList, lineupList, pkgList, customerList,\n  onChange,\n}: Props) {\n  const { name, indexPrev, changeList, releaseList } = version;\n  const versionPrevFound = versionList.find((version) => version.index === indexPrev);\n\n  function onChangeChangeList(changeList: Change[]) {\n    const { changeList: changeListOld, ...versionRest } = version;\n    const versionNew = { ...versionRest, changeList };\n    onChange(versionNew);\n  }\n\n  function onChangeReleaseList(releaseList: Release[]) {\n    const { releaseList: releaseListOld, ...versionRest } = version;\n    const versionNew = { ...versionRest, releaseList };\n    onChange(versionNew);\n  }\n\n  return (\n    <>\n      <Divider horizontal>\n        <Header as='h2'>\n          {name}\n          <Header.Subheader>Previous version: {versionPrevFound ? versionPrevFound.name : '(None)'}</Header.Subheader>\n        </Header>\n      </Divider>\n      <Header as='h3'>\n        Releases\n      </Header>\n      <ReleaseTable\n        releaseList={releaseList} lineupList={lineupList} pkgList={pkgList} customerList={customerList}\n        onChange={onChangeReleaseList}\n      />\n      <Header as='h3'>\n        Changes\n      </Header>\n      <ChangeTable\n        changeList={changeList} lineupList={lineupList} customerList={customerList}\n        onChange={onChangeChangeList}\n      />\n    </>\n  );\n}\n","import { useState } from \"react\";\nimport { Button, Form, Icon, Modal, Table, TextArea } from \"semantic-ui-react\";\nimport { Enum, Pkg, Version } from \"../types\";\nimport { findEmptyIndex, publish } from \"../utils\";\nimport VersionComponent from \"./VersionComponent\";\n\ntype Props = {\n  versionList: Version[];\n  onChange: (versionList: Version[]) => void;\n  lineupList: Enum[];\n  pkgList: Pkg[];\n  customerList: Enum[];\n};\n\nexport default function VersionEditor({ versionList, onChange, lineupList, pkgList, customerList }: Props) {\n  const [name, setName] = useState('');\n  const [indexPrev, setIndexPrev] = useState(-1);\n  const [editIndex, setEditIndex] = useState(-1);\n  const [nameNew, setNameNew] = useState('');\n  const [indexPrevNew, setIndexPrevNew] = useState(-1);\n  const [openModal, setOpenModal] = useState(false);\n  const [releaseHistory, setReleaseHistory] = useState('');\n\n  const [index, setIndex] = useState<number>();\n\n  function addVersion() {\n    if (!name) {\n      return;\n    }\n    const versionFound = versionList.find((version) => version.name === name);\n    if (versionFound) {\n      return;\n    }\n    const index = findEmptyIndex(versionList.map((version) => version.index));\n    const versionListNew = [\n      ...versionList,\n      { index, name, indexPrev, changeList: [], releaseList: [] },\n    ];\n    onChange(versionListNew);\n    setName('');\n  }\n\n  function onChangeVersion(version: Version) {\n    const { index } = version;\n    const indexFound = versionList.findIndex((version) => version.index === index);\n    if (indexFound === -1) {\n      return;\n    }\n    const versionListNew = [\n      ...versionList.slice(0, indexFound),\n      version,\n      ...versionList.slice(indexFound + 1),\n    ];\n    onChange(versionListNew);\n  }\n\n  function onClickEdit(index: number) {\n    const versionFound = versionList.find((version) => version.index === index);\n    if (!versionFound) {\n      return;\n    }\n    setNameNew(versionFound.name);\n    setIndexPrevNew(versionFound.indexPrev);\n    setEditIndex(versionFound.index);\n  }\n\n  function onSubmitEditVersion() {\n    if (!nameNew) {\n      return;\n    }\n    const versionFound = versionList.find((version) => version.index !== editIndex && version.name === nameNew);\n    if (versionFound) {\n      return;\n    }\n    const indexFound = versionList.findIndex((version) => version.index === editIndex);\n    if (indexFound === -1) {\n      return;\n    }\n    const { changeList, releaseList } = versionList[indexFound];\n    const versionListNew = [\n      ...versionList.slice(0, indexFound),\n      {\n        index: editIndex,\n        name: nameNew,\n        indexPrev: indexPrevNew,\n        changeList,\n        releaseList,\n      },\n      ...versionList.slice(indexFound + 1),\n    ];\n    onChange(versionListNew);\n    setEditIndex(-1);\n  }\n\n  function onClickPublish(index: number) {\n    const releaseHistory = publish(versionList, index, lineupList, pkgList, customerList);\n    if (!releaseHistory) {\n      return;\n    }\n    setReleaseHistory(releaseHistory);\n    setOpenModal(true);\n  }\n\n  function removeVersion(index: number) {\n    const indexFound = versionList.findIndex((version) => version.index === index);\n    if (indexFound === -1) {\n      return;\n    }\n    const versionListNew = [\n      ...versionList.slice(0, indexFound),\n      ...versionList.slice(indexFound + 1),\n    ];\n    onChange(versionListNew);\n  }\n\n  const version = index === undefined ? versionList[0] : versionList.find((version) => version.index === index);\n  return (\n    <>\n      <Table celled compact selectable>\n        <Table.Header>\n          <Table.Row>\n            <Table.HeaderCell>Version</Table.HeaderCell>\n            <Table.HeaderCell>Previous version</Table.HeaderCell>\n            <Table.HeaderCell>Actions</Table.HeaderCell>\n          </Table.Row>\n        </Table.Header>\n        <Table.Body>\n          <Table.Row active>\n            <Table.Cell>\n              <Form>\n                <Form.Field disabled={editIndex !== -1}>\n                  <input value={name} onChange={(e) => setName(e.target.value)} />\n                </Form.Field>\n              </Form>\n            </Table.Cell>\n            <Table.Cell>\n              <Form>\n                <Form.Field disabled={editIndex !== -1}>\n                  <select value={indexPrev} onChange={(e) => setIndexPrev(+e.target.value)}>\n                    <option value={-1}>(None)</option>\n                    {\n                      versionList.map((version) => {\n                        const { index, name } = version;\n                        return (\n                          <option key={index} value={index}>{name}</option>\n                        )\n                      })\n                    }\n                  </select>\n                </Form.Field>\n              </Form>\n            </Table.Cell>\n            <Table.Cell>\n              <Button icon='plus' size='tiny' onClick={addVersion} disabled={editIndex !== -1} />\n            </Table.Cell>\n          </Table.Row>\n          {\n            versionList.map((version) => {\n              const { index, name, indexPrev } = version;\n              if (index === editIndex) {\n                return (\n                  <Table.Row key={index}>\n                    <Table.Cell>\n                      <Form>\n                        <Form.Field>\n                          <input value={nameNew} onChange={(e) => setNameNew(e.target.value)} />\n                        </Form.Field>\n                      </Form>\n                    </Table.Cell>\n                    <Table.Cell>\n                      <Form>\n                        <Form.Field>\n                          <select value={indexPrevNew} onChange={(e) => setIndexPrevNew(+e.target.value)}>\n                            <option value={-1}>(None)</option>\n                            {\n                              versionList.map((version) => {\n                                const { index, name } = version;\n                                return (\n                                  <option key={index} value={index} disabled={index === editIndex}>{name}</option>\n                                )\n                              })\n                            }\n                          </select>\n                        </Form.Field>\n                      </Form>\n                    </Table.Cell>\n                    <Table.Cell>\n                      <Button icon='check' size='tiny' onClick={onSubmitEditVersion} />\n                      <Button icon='cancel' size='tiny' onClick={() => setEditIndex(-1)} />\n                    </Table.Cell>\n                  </Table.Row>\n                )\n              }\n              const versionPrevFound = versionList.find((version) => version.index === indexPrev);\n              const namePrev = versionPrevFound ? versionPrevFound.name : '(None)';\n              const versionReferringFound = !!versionList.find((version) => version.indexPrev === index);\n              return (\n                <Table.Row key={index}>\n                  <Table.Cell>\n                    <button className='a-like-button' onClick={() => setIndex(index)}>{name}</button>\n                    </Table.Cell>\n                  <Table.Cell>{namePrev}</Table.Cell>\n                  <Table.Cell>\n                    <Button icon='edit' size='tiny' onClick={() => onClickEdit(index)} />\n                    <Button icon='trash' size='tiny'\n                      disabled={versionReferringFound}\n                      onClick={() => removeVersion(index)}\n                    />\n                    <Button icon='list' size='tiny' onClick={() => onClickPublish(index)} />\n                  </Table.Cell>\n                </Table.Row>\n              )\n            })\n          }\n        </Table.Body>\n      </Table>\n      {\n        version ? (\n          <VersionComponent version={version} versionList={versionList}\n            lineupList={lineupList} pkgList={pkgList} customerList={customerList}\n            onChange={onChangeVersion}\n          />\n        ) : <></>\n      }\n      <Modal open={openModal} onClose={() => setOpenModal(false)}>\n        <Modal.Header>Release history</Modal.Header>\n        <Modal.Content>\n          <Form>\n            <Form.Field>\n              <TextArea value={releaseHistory} rows={24} />\n            </Form.Field>\n          </Form>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button icon size='tiny' onClick={() => navigator.clipboard.writeText(releaseHistory)}>\n            <Icon name='clipboard' />\n            Copy to clipboard\n          </Button>\n        </Modal.Actions>\n      </Modal>\n    </>\n  );\n}\n","import { createRef, useState } from 'react';\nimport 'semantic-ui-css/semantic.min.css';\nimport './App.css';\nimport { Container, Form, Header, Menu, Segment } from 'semantic-ui-react';\nimport EnumTable from './components/EnumTable';\nimport PkgTable from './components/PkgTable';\nimport VersionEditor from './components/VersionEditor';\nimport { Enum, Pkg, Version } from './types';\nimport { load } from './utils';\n\nconst UNTITLED = 'Untitled';\n\nconst PANE_VERSION = 'version';\nconst PANE_LINEUP = 'lineup';\nconst PANE_PACKAGE = 'package';\nconst PANE_CUSTOMER = 'customer';\n\nfunction App() {\n  const refLoad = createRef<HTMLInputElement>();\n  let file: File | undefined;\n  const refSave = createRef<HTMLAnchorElement>();\n  const [featureName, setFeatureName] = useState(UNTITLED);\n  const [versionList, setVersionList] = useState<Version[]>([]);\n  const [lineupList, setLineupList] = useState<Enum[]>([]);\n  const [pkgList, setPkgList] = useState<Pkg[]>([]);\n  const [customerList, setCustomerList] = useState<Enum[]>([]);\n  const [pane, setPane] = useState(PANE_VERSION);\n\n  function onChangeFile(e: React.ChangeEvent<HTMLInputElement>) {\n    const { files } = e.target;\n    if (!files) {\n      return;\n    }\n    file = files[0];\n    if (!file) {\n      return;\n    }\n    reader.readAsText(file);\n  }\n\n  function onClickNew() {\n    setFeatureName(UNTITLED);\n    setVersionList([]);\n    setLineupList([\n      { index: 0, name: '(None)' },\n    ]);\n    setPkgList([]);\n    setCustomerList([]);\n  }\n\n  function onClickSave() {\n    if (refSave.current === null) {\n      return;\n    }\n    const blob = new Blob(\n      [JSON.stringify({ versionList, lineupList, pkgList, customerList })],\n      { type: 'application/json' },\n    );\n    refSave.current.download = `${featureName}.json`;\n    refSave.current.href=window.URL.createObjectURL(blob);\n    refSave.current.click();\n  }\n\n  const reader = new FileReader();\n  reader.onload = (e) => {\n    if (!file) {\n      return;\n    }\n    if (!e.target) {\n      return;\n    }\n    const { result } = e.target;\n    if (result === null || result instanceof ArrayBuffer) {\n      return;\n    }\n    const { name } = file;\n    const indexLast = name.lastIndexOf('.');\n    const featureName = name.substring(0, indexLast);\n    const { versionList, lineupList, pkgList, customerList } = load(result);\n    setFeatureName(featureName);\n    setVersionList(versionList);\n    setLineupList(lineupList);\n    setPkgList(pkgList);\n    setCustomerList(customerList);\n  }\n\n  const usedLineupIndexList = [\n    ...versionList.map((version) => {\n      return version.changeList.map((change) => change.lineupIndex);\n    }).reduce((indexPrevList, indexList) => {\n      return [...indexPrevList, ...indexList];\n    }, []),\n    ...pkgList.map((pkg) => pkg.lineupIndex),\n  ];\n  const usedPkgIndexList = [\n    ...versionList.map((version) => {\n      return version.releaseList.map((release) => release.pkgIndex);\n    }).reduce((indexPrevList, indexList) => {\n      return [...indexPrevList, ...indexList];\n    }, []),\n  ];\n  const usedCustomerIndexList = [\n    ...versionList.map((version) => {\n      return version.changeList.map((change) => change.customerIndexList).reduce((indexListPrev, indexList) => {\n        return [\n          ...indexListPrev,\n          ...indexList,\n        ];\n      }, []);\n    }).reduce((indexPrevList, indexList) => {\n      return [...indexPrevList, ...indexList];\n    }, []),\n    ...versionList.map((version) => {\n      return version.releaseList.map((release) => release.customerIndexList).reduce((indexListPrev, indexList) => {\n        return [\n          ...indexListPrev,\n          ...indexList,\n        ];\n      }, []);\n    }).reduce((indexPrevList, indexList) => {\n      return [...indexPrevList, ...indexList];\n    }, []),\n  ];\n\n  return (\n    <div className=\"App\">\n      <Menu pointing>\n        <Menu.Item onClick={onClickNew}>New</Menu.Item>\n        <Menu.Item>\n          <Form>\n            <Form.Field>\n              <input value={featureName} onChange={(e) => setFeatureName(e.target.value)} />\n            </Form.Field>\n          </Form>\n        </Menu.Item>\n        <Menu.Item onClick={() => refLoad.current?.click()}>\n          Load\n        </Menu.Item>\n        <Menu.Item onClick={() => onClickSave()}>\n          Save\n        </Menu.Item>\n        <Menu.Menu position='right'>\n          <Menu.Item\n            active={pane === PANE_VERSION}\n            onClick={() => setPane(PANE_VERSION)}\n          >\n            Versions\n          </Menu.Item>\n          <Menu.Item\n            active={pane === PANE_LINEUP}\n            onClick={() => setPane(PANE_LINEUP)}\n          >\n            Lineups\n          </Menu.Item>\n          <Menu.Item\n            active={pane === PANE_PACKAGE}\n            onClick={() => setPane(PANE_PACKAGE)}\n          >\n            Packages\n          </Menu.Item>\n          <Menu.Item\n            active={pane === PANE_CUSTOMER}\n            onClick={() => setPane(PANE_CUSTOMER)}\n          >\n            Customers\n          </Menu.Item>\n        </Menu.Menu>\n      </Menu>\n      <input type='file' accept='.json' hidden ref={refLoad} onChange={onChangeFile} />\n      {/* eslint-disable-next-line jsx-a11y/anchor-has-content, jsx-a11y/anchor-is-valid */}\n      <a href='#' ref={refSave} hidden />\n      {\n        pane === PANE_VERSION ? (\n          <Container as={Segment}>\n            <Header as='h1'>Versions</Header>\n            <VersionEditor versionList={versionList} onChange={setVersionList} lineupList={lineupList} pkgList={pkgList} customerList={customerList} />\n          </Container>\n        ) : <></>\n      }\n      {\n        pane === PANE_LINEUP ? (\n          <Container as={Segment}>\n            <Header as='h1'>Lineups</Header>\n            <EnumTable title='Lineup' enumList={lineupList} onChange={setLineupList}\n              usedIndexList={usedLineupIndexList}\n            />\n          </Container>\n        ) : <></>\n      }\n      {\n        pane === PANE_PACKAGE ? (\n          <Container as={Segment}>\n            <Header as='h1'>Packages</Header>\n            <PkgTable pkgList={pkgList} lineupList={lineupList} onChange={setPkgList}\n              usedPkgIndexList={usedPkgIndexList}\n            />\n          </Container>\n        ) : <></>\n      }\n      {\n        pane === PANE_CUSTOMER ? (\n          <Container as={Segment}>\n            <Header as='h1'>Customers</Header>\n            <EnumTable title='Customer' enumList={customerList} onChange={setCustomerList}\n              usedIndexList={usedCustomerIndexList}\n            />\n          </Container>\n        ) : <></>\n      }\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}