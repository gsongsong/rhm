{"version":3,"sources":["utils.ts","components/EnumTable.tsx","components/PkgTable.tsx","components/EnumSelector.tsx","components/ChangeTable.tsx","components/ReleaseTable.tsx","components/VersionComponent.tsx","components/VersionEditor.tsx","App.tsx","reportWebVitals.js","index.js"],"names":["accumulateChangeList","changeListAccumulated","customerIndex","versionList","indexPrev","versionNext","find","version","index","changeList","releaseList","release","customerIndexList","includes","unshift","filter","change","length","findEmptyIndex","indexList","sort","a","b","reduce","indent","input","replace","publishPerCustomer","versionIndex","lineupList","pkgList","customer","candidateLineupIndexList","map","lineup","console","log","name","group","releaseHistoryPerLineupList","forEach","lineupIndex","push","releaseHistory","publishPerLineup","releaseHistoryPerLineup","lineupFound","lineupName","join","groupEnd","changeListPerPkgList","releaseFound","pkgIndex","pkg","pkgFound","pkgName","pkgLineupIndex","changeLineupIndex","undefined","changeListPerPkg","changes","description","beforeChange","afterChange","listToChanges","EnumTable","title","enumList","onChange","usedIndexList","useState","editIndex","setEditIndex","setName","nameNew","setNameNew","addEnumItem","enumItem","enumListNew","localeCompare","onSubmitRename","indexFound","findIndex","slice","Table","celled","compact","selectable","Header","Row","HeaderCell","Body","active","Cell","Form","onSubmit","Field","disabled","value","e","target","Button","icon","size","onClick","onClickEdit","removeEnumItem","PkgTable","usedPkgIndexList","setLineupIndex","lineupIndexNew","setLineupIndexNew","pkgListNew","onSubmitEditPkg","removePkg","EnumSelector","selectedIndexList","selected","selectedIndex","color","Label","as","selectedIndexListNew","toggle","Icon","ChangeTable","customerList","setDescription","setBeforeChange","setAfterChange","setCustomerIndexList","descriptionNew","setDescriptionNew","beforeChangeNew","setBeforeChangeNew","afterChangeNew","setAfterChangeNew","customerIndexListNew","setCustomerIndexListNew","onSubmitEditChange","changeListNew","rowSpan","colSpan","TextArea","className","Fragment","changeFound","removeChange","ReleaseTable","setPkgIndex","pkgIndexNew","setPkgIndexNew","onSubmitEditRelease","releaseListNew","removeRelease","moveOlder","moveNewer","VersionComponent","versionPrevFound","Divider","horizontal","Subheader","versionRest","versionNew","VersionEditor","setIndexPrev","indexPrevNew","setIndexPrevNew","openModal","setOpenModal","setReleaseHistory","setIndex","onSubmitEditVersion","versionListNew","onClickPublish","releaseHistoryPerCustomerIndexListList","i","cil1","rh1","j","cil2","splice","relaseHistoryPerCustomerIndexList","customerNameJoined","publish","namePrev","versionReferringFound","versionFound","removeVersion","Modal","open","onClose","Content","rows","Actions","navigator","clipboard","writeText","UNTITLED","PANE_VERSION","PANE_LINEUP","PANE_PACKAGE","PANE_CUSTOMER","App","file","refLoad","createRef","refSave","featureName","setFeatureName","setVersionList","setLineupList","setPkgList","setCustomerList","pane","setPane","reader","FileReader","onload","result","ArrayBuffer","indexLast","lastIndexOf","substring","parsed","JSON","parse","versionName","versionIndexPrev","changeIndex","targetCustomerList","targetCustomer","releaseIndex","customerName","load","usedLineupIndexList","indexPrevList","usedCustomerIndexList","indexListPrev","Menu","pointing","Item","current","click","blob","Blob","stringify","type","download","href","window","URL","createObjectURL","onClickSave","position","accept","hidden","ref","files","readAsText","Container","Segment","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1d304043.chunk.js","sourcesContent":["import { Change, Enum, OldCustomer, OldPkg, OldVersion, Pkg, Release, Version } from \"./types\";\n\ntype ReleaseHistoryPerCustomerIndexList = {\n  customerIndexList: number[];\n  releaseHistory: string;\n}\n\ntype ReleaseHistoryPerLineupIndex = {\n  lineupIndex: number;\n  releaseHistory: string;\n}\n\ntype ReleaseHistoryPerPkg = {\n  pkgName: string;\n  changeList: Change[];\n};\n\nfunction accumulateChangeList(\n  changeListAccumulated: Change[], customerIndex: number,\n  versionList: Version[], indexPrev: number,\n) {\n  let versionNext = versionList.find((version) => version.index === indexPrev);\n  while (versionNext) {\n    if (!versionNext) {\n      return versionNext;\n    }\n    const { indexPrev, changeList, releaseList } = versionNext;\n    const releaseFound = releaseList.find((release) => release.customerIndexList.includes(customerIndex));\n    if (releaseFound) {\n      break;\n    }\n    changeListAccumulated.unshift(\n      ...changeList.filter((change) => {\n        const { customerIndexList } = change;\n        return !customerIndexList.length || customerIndexList.includes(customerIndex);\n      })\n    );\n    versionNext = versionList.find((version) => version.index === indexPrev);\n  }\n  return versionNext;\n}\n\nexport function findEmptyIndex(indexList: number[]) {\n  return indexList\n    .sort((a, b) => a - b)\n    .reduce((indexPrev, index) => {\n      if (index === indexPrev) {\n        return indexPrev + 1;\n      }\n      return indexPrev;\n    }, 0);\n}\n\nexport function getEnumNameList(enumList: Enum[], indexList: number[]) {\n  return enumList\n    .filter((enumItem) => indexList.includes(enumItem.index))\n    .map((enumItem) => enumItem.name);\n}\n\nfunction indent(input: string) {\n  return input.replace(/^/gm, '    ');\n}\n\nexport function load(input: string) {\n  const parsed = JSON.parse(input);\n  const { versionList, lineupList, pkgList, customerList } = parsed;\n  // Check if it comes from release-history-manager\n  if (versionList[0] && versionList[0].versionIndex !== undefined) {\n    // Migrate\n    const versionListNew: Version[] = (versionList as OldVersion[]).map((version) => {\n      const { versionIndex: index, versionName: name, versionIndexPrev: indexPrev, changeList, releaseList } = version;\n      const changeListNew: Change[] = changeList.map((change) => {\n        const { changeIndex: index, description, beforeChange, afterChange, targetCustomerList } = change;\n        const customerIndexList = targetCustomerList.map((targetCustomer) => targetCustomer.customerIndex);\n        return { index, description, beforeChange, afterChange, customerIndexList, lineupIndex: -1 };\n      });\n      const releaseListNew: Release[] = releaseList.map((release) => {\n        const { releaseIndex: index, pkgIndex, targetCustomerList } = release;\n        const customerIndexList = targetCustomerList.map((targetCustomer) => targetCustomer.customerIndex);\n        return { index, pkgIndex, customerIndexList };\n      })\n      return {\n        index,\n        name,\n        indexPrev,\n        changeList: changeListNew,\n        releaseList: releaseListNew,\n      }\n    });\n    const pkgListNew: Pkg[] = (pkgList as OldPkg[]).map((pkg) => {\n      const { pkgIndex: index, pkgName: name } = pkg;\n      return { index, name, lineupIndex: -1 };\n    });\n    const customerListNew: Enum[] = (customerList as OldCustomer[]).map((customer) => {\n      const { customerIndex: index, customerName: name } = customer;\n      return { index, name };\n    });\n    return { versionList: versionListNew, lineupList: [], pkgList: pkgListNew, customerList: customerListNew };\n  } else {\n    // TODO: Check validity\n  }\n  return { versionList, lineupList, pkgList, customerList };\n}\n\nexport function publish(versionList: Version[], versionIndex: number, lineupList: Enum[], pkgList: Pkg[], customerList: Enum[]) {\n  console.log('Publishing release history...');\n  console.group();\n  const releaseHistoryPerCustomerIndexListList: ReleaseHistoryPerCustomerIndexList[] = [];\n  // Generate\n  customerList.forEach((customer) => {\n    releaseHistoryPerCustomerIndexListList.push({\n      customerIndexList: [customer.index],\n      releaseHistory: publishPerCustomer(versionList, versionIndex, lineupList, pkgList, customer),\n    });\n  });\n  // Merge\n  for (let i = releaseHistoryPerCustomerIndexListList.length - 1; i >= 0; i -= 1) {\n    const { customerIndexList: cil1, releaseHistory: rh1 } = releaseHistoryPerCustomerIndexListList[i];\n    for (let j = i - 1; j >= 0; j -= 1) {\n      const { customerIndexList: cil2, releaseHistory: rh2 } = releaseHistoryPerCustomerIndexListList[j];\n      if (rh1 === rh2) {\n        cil2.push(...cil1);\n        releaseHistoryPerCustomerIndexListList.splice(i, 1);\n        break;\n      }\n    }\n  }\n  // Export\n  const releaseHistory = releaseHistoryPerCustomerIndexListList\n    .filter((relaseHistoryPerCustomerIndexList) => relaseHistoryPerCustomerIndexList.releaseHistory)\n    .map((relaseHistoryPerCustomerIndexList) => {\n      const { customerIndexList, releaseHistory } = relaseHistoryPerCustomerIndexList;\n      const customerNameJoined = getEnumNameList(customerList, customerIndexList).join(', ');\n      return `<${customerNameJoined}>\n${indent(releaseHistory)}\n</${customerNameJoined}>`;\n    }).join('\\n');\n  console.groupEnd();\n  return releaseHistory;\n}\n\nfunction publishPerCustomer(versionList: Version[], versionIndex: number, lineupList: Enum[], pkgList: Pkg[], customer: Enum) {\n  const candidateLineupIndexList = [-1, ...lineupList.map((lineup) => lineup.index)];\n  console.log(customer.name);\n  console.group();\n  const releaseHistoryPerLineupList: ReleaseHistoryPerLineupIndex[] = [];\n  candidateLineupIndexList.forEach((lineupIndex) => {\n    releaseHistoryPerLineupList.push({\n      lineupIndex,\n      releaseHistory: publishPerLineup(versionList, versionIndex, lineupIndex, pkgList, customer),\n    });\n  })\n  const releaseHistory = releaseHistoryPerLineupList\n    .filter((releaseHistoryPerLineup) => releaseHistoryPerLineup.releaseHistory)\n    .map((releaseHistoryPerLineup) => {\n      const { lineupIndex, releaseHistory } = releaseHistoryPerLineup;\n      const lineupFound = lineupList.find((lineup) => lineup.index === lineupIndex);\n      if (!lineupFound) {\n        return indent(releaseHistory);\n      } else {\n        const lineupName = lineupFound.name;\n        return `<${lineupName}>\n${indent(releaseHistory)}\n</${lineupName}>`;\n      }\n    }).join('\\n');\n  console.groupEnd();\n  return releaseHistory;\n}\n\nfunction publishPerLineup(versionList: Version[], versionIndex: number, lineupIndex: number, pkgList: Pkg[], customer: Enum) {\n  let versionNext = versionList.find((version) => version.index === versionIndex);\n  const { index: customerIndex } = customer;\n  const changeListPerPkgList: ReleaseHistoryPerPkg[] = [];\n  while(versionNext) {\n    const { name, indexPrev, changeList, releaseList } = versionNext;\n    console.log(`Version: ${name}. Previous version: ${indexPrev}`);\n    console.group();\n    // Check the current version is released\n    const releaseFound = releaseList.find((release) => {\n      const customerIncluded = release.customerIndexList.includes(customerIndex);\n      if (!customerIncluded) {\n        return false;\n      }\n      const { pkgIndex } = release;\n      const pkgFound = pkgList.find((pkg) => pkg.lineupIndex === lineupIndex && pkg.index === pkgIndex);\n      return !!pkgFound;\n    });\n    console.log(releaseFound);\n    // If the current version is not released, it is not for the given customer\n    if (!releaseFound) {\n      versionNext = undefined;\n    } else {\n      const { pkgIndex } = releaseFound;\n      const pkgFound = pkgList.find((pkg) => pkg.index === pkgIndex);\n      if (!pkgFound) {\n        // This is not going to happen\n        break;\n      } else {\n        const { name: pkgName, lineupIndex: pkgLineupIndex } = pkgFound;\n        const changeListAccumulated = [\n          ...changeList.filter((change) => {\n            const { customerIndexList, lineupIndex: changeLineupIndex } = change;\n            return (!customerIndexList.length || customerIndexList.includes(customerIndex))\n                   && pkgLineupIndex === changeLineupIndex;\n          }),\n        ];\n        // Accumulate unreleased versions and get the second latest released version\n        versionNext = accumulateChangeList(changeListAccumulated, customerIndex, versionList, indexPrev);\n        changeListPerPkgList.unshift({ pkgName, changeList: changeListAccumulated });\n      }\n    }\n    console.groupEnd();\n  }\n  const releaseHistory = changeListPerPkgList.map((changeListPerPkg, index) => {\n    const { pkgName, changeList } = changeListPerPkg;\n    const changes = index === 0 ? `[Description]\n${indent('- Initial release')}` : changeList.map((change) => {\n      const { description, beforeChange, afterChange } = change;\n      const listToChanges = [\n        '[Description]',\n        indent(description),\n      ];\n      if (beforeChange) {\n        listToChanges.push(indent('[Before change]'));\n        listToChanges.push(indent(indent(beforeChange)));\n      }\n      if (afterChange) {\n        listToChanges.push(indent('[After change]'));\n        listToChanges.push(indent(indent(afterChange)));\n      }\n      return listToChanges.join('\\n');\n    }).join('\\n');\n    return `${pkgName}\n${indent(changes)}`\n  }).join('\\n');\n  return releaseHistory;\n}\n","import { useState } from \"react\";\nimport { Button, Form, Table } from \"semantic-ui-react\";\nimport { Enum } from \"../types\";\nimport { findEmptyIndex } from \"../utils\";\n\ntype Props = {\n  title: string;\n  enumList: Enum[];\n  onChange: (enumList: Enum[]) => void;\n  usedIndexList?: number[];\n};\n\nexport default function EnumTable({ title, enumList, onChange, usedIndexList }: Props) {\n  const [editIndex, setEditIndex] = useState(-1);\n  const [name, setName] = useState('');\n  const [nameNew, setNameNew] = useState('');\n\n  function addEnumItem() {\n    if (!name) {\n      return;\n    }\n    const enumItemFound = enumList.find((enumItem) => enumItem.name === name);\n    if (enumItemFound) {\n      return;\n    }\n    const index = findEmptyIndex(enumList.map((enumItem) => enumItem.index));\n    const enumListNew = [\n      ...enumList,\n      { index, name },\n    ].sort((a, b) => a.name.localeCompare(b.name));\n    onChange(enumListNew);\n    setName('');\n  }\n\n  function onClickEdit(index: number) {\n    const enumItem = enumList.find((enumItem) => enumItem.index === index);\n    if (!enumItem) {\n      return;\n    }\n    setNameNew(enumItem.name);\n    setEditIndex(index);\n  }\n\n  function onSubmitRename(index: number) {\n    if (!nameNew) {\n      return;\n    }\n    const enumItemFound = enumList.find((enumItem) => enumItem.index !== index && enumItem.name === nameNew);\n    if (enumItemFound) {\n      return;\n    }\n    const indexFound = enumList.findIndex((enumItem) => enumItem.index === index);\n    if (indexFound === -1) {\n      return;\n    }\n    const enumListNew = [\n      ...enumList.slice(0, indexFound),\n      { index, name: nameNew },\n      ...enumList.slice(indexFound + 1),\n    ];\n    onChange(enumListNew);\n    setEditIndex(-1);\n  }\n\n  function removeEnumItem(index: number) {\n    if (usedIndexList && usedIndexList.includes(index)) {\n      return;\n    }\n    const indexFound = enumList.findIndex((enumItem) => enumItem.index === index);\n    if (indexFound === -1) {\n      return;\n    }\n    const enumListNew = [\n      ...enumList.slice(0, indexFound),\n      ...enumList.slice(indexFound + 1),\n    ];\n    onChange(enumListNew);\n  }\n\n  return (\n    <Table celled compact selectable>\n      <Table.Header>\n        <Table.Row>\n          <Table.HeaderCell>{title}</Table.HeaderCell>\n          <Table.HeaderCell>Actions</Table.HeaderCell>\n        </Table.Row>\n      </Table.Header>\n      <Table.Body>\n        <Table.Row active>\n          <Table.Cell>\n            <Form onSubmit={addEnumItem}>\n              <Form.Field disabled={editIndex !== -1}>\n                <input value={name} onChange={(e) => setName(e.target.value)} />\n              </Form.Field>\n            </Form>\n          </Table.Cell>\n          <Table.Cell>\n            <Button\n              icon='plus' size='tiny'\n              onClick={addEnumItem}\n              disabled={editIndex !== -1}\n            />\n          </Table.Cell>\n        </Table.Row>\n        {\n          enumList.map((enumItem) => {\n            const { index, name } = enumItem;\n            return index === editIndex ? (\n              <Table.Row key={index}>\n                <Table.Cell>\n                  <Form onSubmit={() => onSubmitRename(index)}>\n                    <Form.Field>\n                      <input value={nameNew} onChange={(e) => setNameNew(e.target.value)} />\n                    </Form.Field>\n                  </Form>\n                </Table.Cell>\n                <Table.Cell>\n                  <Button icon='check' size='tiny' onClick={() => onSubmitRename(index)} />\n                  <Button icon='cancel' size='tiny' onClick={() => setEditIndex(-1)} />\n                </Table.Cell>\n              </Table.Row>\n            ) : (\n              <Table.Row key={index}>\n                <Table.Cell>{name}</Table.Cell>\n                <Table.Cell>\n                  <Button icon='edit' size='tiny' onClick={() => onClickEdit(index)} />\n                  <Button icon='trash' size='tiny' onClick={() => removeEnumItem(index)}\n                    disabled={usedIndexList && usedIndexList.includes(index)}\n                  />\n                </Table.Cell>\n              </Table.Row>\n            )\n          })\n        }\n      </Table.Body>\n    </Table>\n  );\n}\n","import { useState } from \"react\";\nimport { Button, Form, Table } from \"semantic-ui-react\";\nimport { Enum, Pkg } from \"../types\";\nimport { findEmptyIndex } from \"../utils\";\n\ntype Props = {\n  pkgList: Pkg[];\n  lineupList: Enum[];\n  onChange: (pkgList: Pkg[]) => void;\n  usedPkgIndexList?: number[];\n};\n\nexport default function PkgTable({ pkgList, lineupList, onChange, usedPkgIndexList }: Props) {\n  const [editIndex, setEditIndex] = useState(-1);\n  const [name, setName] = useState('');\n  const [lineupIndex, setLineupIndex] = useState(-1);\n  const [nameNew, setNameNew] = useState('');\n  const [lineupIndexNew, setLineupIndexNew] = useState(-1);\n\n  function addPkg() {\n    if (!name) {\n      return;\n    }\n    const pkgFound = pkgList.find((pkg) => pkg.name === name);\n    if (pkgFound) {\n      return;\n    }\n    const index = findEmptyIndex(pkgList.map((pkg) => pkg.index));\n    const pkgListNew = [\n      ...pkgList,\n      { index, name, lineupIndex },\n    ].sort((a, b) => a.name.localeCompare(b.name));\n    onChange(pkgListNew);\n    setName('');\n  }\n\n  function onClickEdit(index: number) {\n    const pkgFound = pkgList.find((pkg) => pkg.index === index);\n    if (!pkgFound) {\n      return;\n    }\n    setNameNew(pkgFound.name);\n    setLineupIndexNew(pkgFound.lineupIndex);\n    setEditIndex(index);\n  }\n\n  function onSubmitEditPkg(index: number) {\n    if (!nameNew) {\n      return;\n    }\n    const pkgFound = pkgList.find((pkg) => pkg.index !== index && pkg.name === nameNew);\n    if (pkgFound) {\n      return;\n    }\n    const indexFound = pkgList.findIndex((pkg) => pkg.index === index);\n    if (indexFound === -1) {\n      return;\n    }\n    const pkgListNew = [\n      ...pkgList.slice(0, indexFound),\n      { index, name: nameNew, lineupIndex: lineupIndexNew },\n      ...pkgList.slice(indexFound + 1),\n    ];\n    onChange(pkgListNew);\n    setEditIndex(-1);\n  }\n\n  function removePkg(index: number) {\n    if (usedPkgIndexList && usedPkgIndexList.includes(index)) {\n      return;\n    }\n    const indexFound = pkgList.findIndex((pkg) => pkg.index === index);\n    if (indexFound === -1) {\n      return;\n    }\n    const enumListNew = [\n      ...pkgList.slice(0, indexFound),\n      ...pkgList.slice(indexFound + 1),\n    ];\n    onChange(enumListNew);\n  }\n\n  return (\n    <Table celled compact selectable>\n      <Table.Header>\n        <Table.Row>\n          <Table.HeaderCell>Package</Table.HeaderCell>\n          <Table.HeaderCell>Lineup</Table.HeaderCell>\n          <Table.HeaderCell>Actions</Table.HeaderCell>\n        </Table.Row>\n      </Table.Header>\n      <Table.Body>\n        <Table.Row active>\n          <Table.Cell>\n            <Form>\n              <Form.Field disabled={editIndex !== -1}>\n                <input value={name} onChange={(e) => setName(e.target.value)} />\n              </Form.Field>\n            </Form>\n          </Table.Cell>\n          <Table.Cell>\n            <Form>\n              <Form.Field disabled={editIndex !== -1}>\n                <select value={lineupIndex} onChange={(e) => setLineupIndex(+e.target.value)}>\n                  <option value={-1}>(None)</option>\n                  {\n                    lineupList.map((lineup) => {\n                      const { index, name} = lineup;\n                      return (\n                        <option key={index} value={index}>{name}</option>\n                      );\n                    })\n                  }\n                </select>\n              </Form.Field>\n            </Form>\n          </Table.Cell>\n          <Table.Cell>\n            <Button\n              icon='plus' size='tiny'\n              onClick={addPkg}\n              disabled={editIndex !== -1}\n            />\n          </Table.Cell>\n        </Table.Row>\n        {\n          pkgList.map((pkg) => {\n            const { index, name, lineupIndex } = pkg;\n            const lineupFound = lineupList.find((lineup) => lineup.index === lineupIndex);\n            const lineup = lineupFound ? lineupFound.name : '(None)';\n            return index === editIndex ? (\n              <Table.Row key={index}>\n                <Table.Cell>\n                  <Form>\n                    <Form.Field>\n                      <input value={nameNew} onChange={(e) => setNameNew(e.target.value)} />\n                    </Form.Field>\n                  </Form>\n                </Table.Cell>\n                <Table.Cell>\n                  <Form>\n                    <Form.Field>\n                      <select value={lineupIndexNew} onChange={(e) => setLineupIndexNew(+e.target.value)}>\n                        <option value={-1}>(None)</option>\n                        {\n                          lineupList.map((lineup) => {\n                            const { index, name } = lineup;\n                            return (\n                              <option key={index} value={index}>{name}</option>\n                            )\n                          })\n                        }\n                      </select>\n                    </Form.Field>\n                  </Form>\n                </Table.Cell>\n                <Table.Cell>\n                  <Button icon='check' size='tiny' onClick={() => onSubmitEditPkg(index)} />\n                  <Button icon='cancel' size='tiny' onClick={() => setEditIndex(-1)} />\n                </Table.Cell>\n              </Table.Row>\n            ) : (\n              <Table.Row key={index}>\n                <Table.Cell>{name}</Table.Cell>\n                <Table.Cell>{lineup}</Table.Cell>\n                <Table.Cell>\n                  <Button icon='edit' size='tiny' onClick={() => onClickEdit(index)} />\n                  <Button icon='trash' size='tiny' onClick={() => removePkg(index)}\n                    disabled={usedPkgIndexList && usedPkgIndexList.includes(index)}\n                  />\n                </Table.Cell>\n              </Table.Row>\n            )\n          })\n        }\n      </Table.Body>\n    </Table>\n  );\n}\n","import { Icon, Label } from \"semantic-ui-react\";\nimport { Enum } from \"../types\";\n\ntype Props = {\n  enumList: Enum[];\n  selectedIndexList: number[];\n  onChange: (selectedIndexList: number[]) => void;\n  disabled?: boolean;\n};\n\nexport default function EnumSelector({ enumList, selectedIndexList, onChange, disabled }: Props) {\n  function toggle(index: number) {\n    if (disabled) {\n      return;\n    }\n    const indexFound = selectedIndexList.findIndex((selectedIndex) => selectedIndex === index);\n    const selectedIndexListNew = indexFound === -1 ? [\n      ...selectedIndexList,\n      index,\n    ] : [\n      ...selectedIndexList.slice(0, indexFound),\n      ...selectedIndexList.slice(indexFound + 1),\n    ];\n    onChange(selectedIndexListNew);\n  }\n\n  return (\n    <>\n      {\n        enumList.map((enumItem) => {\n          const { index, name } = enumItem;\n          const selected = selectedIndexList.find((selectedIndex) => selectedIndex=== index) !== undefined;\n          const color = selected ? 'blue' : undefined;\n          const icon = selected ? 'plus' : 'minus';\n          return (\n            <Label key={index} as='a' color={color} onClick={() => toggle(index)}>\n              <Icon name={icon} />\n              {name}\n            </Label>\n          )\n        })\n      }\n    </>\n  );\n}\n","import React from \"react\";\nimport { useState } from \"react\";\nimport { Button, Form, Table, TextArea } from \"semantic-ui-react\";\nimport { Change, Enum } from \"../types\";\nimport { findEmptyIndex } from \"../utils\";\nimport EnumSelector from \"./EnumSelector\";\n\nconst COLSPAN = 4;\nconst ROWSPAN = 2;\n\ntype Props = {\n  changeList: Change[];\n  lineupList: Enum[];\n  customerList: Enum[];\n  onChange: (changeList: Change[]) => void;\n};\n\nexport default function ChangeTable({\n  changeList, lineupList, customerList,\n  onChange,\n}: Props) {\n  const [description, setDescription] = useState('');\n  const [beforeChange, setBeforeChange] = useState('');\n  const [afterChange, setAfterChange] = useState('');\n  const [customerIndexList, setCustomerIndexList] = useState<number[]>([]);\n  const [lineupIndex, setLineupIndex] = useState(-1);\n  const [editIndex, setEditIndex] = useState(-1);\n  const [descriptionNew, setDescriptionNew] = useState('');\n  const [beforeChangeNew, setBeforeChangeNew] = useState('');\n  const [afterChangeNew, setAfterChangeNew] = useState('');\n  const [customerIndexListNew, setCustomerIndexListNew] = useState<number[]>([]);\n  const [lineupIndexNew, setLineupIndexNew] = useState(-1);\n\n  function addChange() {\n    if (!description) {\n      return;\n    }\n    const index = findEmptyIndex(changeList.map((change) => change.index));\n    const changeListNew = [\n      ...changeList,\n      { index, description, beforeChange, afterChange, customerIndexList, lineupIndex },\n    ];\n    onChange(changeListNew);\n    setDescription('');\n    setBeforeChange('');\n    setAfterChange('');\n    setCustomerIndexList([]);\n    setLineupIndex(-1);\n  }\n\n  function onClickEdit(index: number) {\n    const changeFound = changeList.find((change) => change.index === index);\n    if (!changeFound) {\n      return;\n    }\n    const { description, beforeChange, afterChange, lineupIndex, customerIndexList } = changeFound;\n    setDescriptionNew(description);\n    setBeforeChangeNew(beforeChange);\n    setAfterChangeNew(afterChange);\n    setLineupIndexNew(lineupIndex);\n    setCustomerIndexListNew(customerIndexList);\n    setEditIndex(index);\n  }\n\n  function onSubmitEditChange() {\n    const indexFound = changeList.findIndex((change) => change.index === editIndex);\n    if (indexFound === -1) {\n      return;\n    }\n    const changeListNew = [\n      ...changeList.slice(0, indexFound),\n      {\n        index: editIndex,\n        description: descriptionNew,\n        beforeChange: beforeChangeNew,\n        afterChange: afterChangeNew,\n        customerIndexList: customerIndexListNew,\n        lineupIndex: lineupIndexNew,\n      },\n      ...changeList.slice(indexFound + 1),\n    ];\n    onChange(changeListNew);\n    setEditIndex(-1);\n  }\n\n  function removeChange(index: number) {\n    const indexFound = changeList.findIndex((change) => change.index === index);\n    const changeListNew = [\n      ...changeList.slice(0, indexFound),\n      ...changeList.slice(indexFound + 1),\n    ];\n    onChange(changeListNew);\n  }\n\n  return (\n    <Table celled compact selectable>\n      <Table.Header>\n        <Table.Row>\n          <Table.HeaderCell>Description</Table.HeaderCell>\n          <Table.HeaderCell>Before change</Table.HeaderCell>\n          <Table.HeaderCell>After change</Table.HeaderCell>\n          <Table.HeaderCell>Lineup</Table.HeaderCell>\n          <Table.HeaderCell rowSpan={ROWSPAN}>Actions</Table.HeaderCell>\n        </Table.Row>\n        <Table.Row>\n          <Table.HeaderCell colSpan={COLSPAN}>Customers</Table.HeaderCell>\n        </Table.Row>\n      </Table.Header>\n      <Table.Body>\n        <Table.Row active>\n          <Table.Cell>\n            <Form>\n              <Form.Field disabled={editIndex !== -1}>\n                <TextArea value={description} onChange={(e) => setDescription(e.target.value)}\n                  className='no-resize-textarea'\n                />\n              </Form.Field>\n            </Form>\n          </Table.Cell>\n          <Table.Cell>\n            <Form>\n              <Form.Field disabled={editIndex !== -1}>\n                <TextArea value={beforeChange} onChange={(e) => setBeforeChange(e.target.value)}\n                  className='no-resize-textarea'\n                />\n              </Form.Field>\n            </Form>\n          </Table.Cell>\n          <Table.Cell>\n            <Form>\n              <Form.Field disabled={editIndex !== -1}>\n                <TextArea value={afterChange} onChange={(e) => setAfterChange(e.target.value)}\n                  className='no-resize-textarea'\n                />\n              </Form.Field>\n            </Form>\n          </Table.Cell>\n          <Table.Cell>\n            <Form>\n              <Form.Field disabled={editIndex !== -1}>\n                <select value={lineupIndex} onChange={(e) => setLineupIndex(+e.target.value)}>\n                  <option value={-1}>(None)</option>\n                  {\n                    lineupList.map((lineup) => {\n                      const { index, name } = lineup;\n                      return (\n                        <option key={index} value={index}>{name}</option>\n                      )\n                    })\n                  }\n                </select>\n              </Form.Field>\n            </Form>\n          </Table.Cell>\n          <Table.Cell rowSpan={ROWSPAN}>\n            <Button icon='plus' size='tiny' onClick={addChange} disabled={editIndex !== -1} />\n          </Table.Cell>\n        </Table.Row>\n        <Table.Row active>\n          <Table.Cell colSpan={COLSPAN}>\n            <EnumSelector enumList={customerList} selectedIndexList={customerIndexList}\n              onChange={setCustomerIndexList}\n              disabled={editIndex !== -1}\n            />\n          </Table.Cell>\n        </Table.Row>\n        {\n          changeList.map((change) => {\n            const { index, description, beforeChange, afterChange, customerIndexList, lineupIndex } = change;\n            const lineupFound = lineupList.find((lineup) => lineup.index === lineupIndex);\n            const lineup = lineupFound ? lineupFound.name : '(None)';\n            return index === editIndex ? (\n              <React.Fragment key={index}>\n                <Table.Row>\n                  <Table.Cell>\n                    <Form>\n                      <Form.Field>\n                        <TextArea value={descriptionNew} onChange={(e) => setDescriptionNew(e.target.value)}\n                          className='no-resize-textarea'\n                        />\n                      </Form.Field>\n                    </Form>\n                  </Table.Cell>\n                  <Table.Cell>\n                    <Form>\n                      <Form.Field>\n                        <TextArea value={beforeChangeNew} onChange={(e) => setBeforeChangeNew(e.target.value)}\n                          className='no-resize-textarea'\n                        />\n                      </Form.Field>\n                    </Form>\n                  </Table.Cell>\n                  <Table.Cell>\n                    <Form>\n                      <Form.Field>\n                        <TextArea value={afterChangeNew} onChange={(e) => setAfterChangeNew(e.target.value)}\n                          className='no-resize-textarea'\n                        />\n                      </Form.Field>\n                    </Form>\n                  </Table.Cell>\n                  <Table.Cell>\n                    <Form>\n                      <Form.Field>\n                        <select value={lineupIndexNew} onChange={(e) => setLineupIndexNew(+e.target.value)}>\n                          <option value={-1}>(None)</option>\n                          {\n                            lineupList.map((lineup) => {\n                              const { index, name } = lineup;\n                              return (\n                                <option key={index} value={index}>{name}</option>\n                              )\n                            })\n                          }\n                        </select>\n                      </Form.Field>\n                    </Form>\n                  </Table.Cell>\n                  <Table.Cell rowSpan={ROWSPAN}>\n                    <Button icon='check' size='tiny' onClick={onSubmitEditChange} />\n                    <Button icon='cancel' size='tiny' onClick={() => setEditIndex(-1)} />\n                  </Table.Cell>\n                </Table.Row>\n                <Table.Row>\n                  <Table.Cell colSpan={COLSPAN}>\n                    <EnumSelector enumList={customerList} selectedIndexList={customerIndexListNew}\n                      onChange={setCustomerIndexListNew}\n                    />\n                  </Table.Cell>\n                </Table.Row>\n              </React.Fragment>\n            ) : (\n              <React.Fragment key={index}>\n                <Table.Row>\n                  <Table.Cell>\n                    <Form>\n                      <Form.Field>\n                        <TextArea value={description} className='no-border-textarea no-resize-textarea' />\n                      </Form.Field>\n                    </Form>\n                  </Table.Cell>\n                  <Table.Cell>\n                    <Form>\n                      <Form.Field>\n                        <TextArea value={beforeChange} className='no-border-textarea no-resize-textarea' />\n                      </Form.Field>\n                    </Form>\n                  </Table.Cell>\n                  <Table.Cell>\n                    <Form>\n                      <Form.Field>\n                        <TextArea value={afterChange} className='no-border-textarea no-resize-textarea' />\n                      </Form.Field>\n                    </Form>\n                  </Table.Cell>\n                  <Table.Cell>{lineup}</Table.Cell>\n                  <Table.Cell rowSpan={ROWSPAN}>\n                    <Button icon='edit' size='tiny' onClick={() => onClickEdit(index)} />\n                    <Button icon='trash' size='tiny' onClick={() => removeChange(index)} />\n                  </Table.Cell>\n                </Table.Row>\n                <Table.Row>\n                  <Table.Cell colSpan={COLSPAN}>\n                    {\n                      customerList\n                        .filter((customer) => customerIndexList.find((customerIndex) => customer.index === customerIndex) !== undefined)\n                        .map((customer) => customer.name)\n                        .join(', ')\n                    }\n                  </Table.Cell>\n                </Table.Row>\n              </React.Fragment>\n            )\n          })\n        }\n      </Table.Body>\n      {\n        changeList.map((change) => <></>)\n      }\n    </Table>\n  )\n}\n","import React from \"react\";\nimport { useState } from \"react\";\nimport { Button, Form, Icon, Table } from \"semantic-ui-react\";\nimport { Enum, Pkg, Release } from \"../types\";\nimport { findEmptyIndex } from \"../utils\";\nimport EnumSelector from \"./EnumSelector\";\n\ntype Props ={ \n  releaseList: Release[];\n  lineupList: Enum[];\n  pkgList: Pkg[];\n  customerList: Enum[];\n  onChange: (releaseList: Release[]) => void;\n}\n\nexport default function ReleaseTable({\n  releaseList, lineupList, pkgList, customerList,\n  onChange,\n}: Props) {\n  const [pkgIndex, setPkgIndex] = useState(-1);\n  const [customerIndexList, setCustomerIndexList] = useState<number[]>([]);\n  const [editIndex, setEditIndex] = useState(-1);\n  const [pkgIndexNew, setPkgIndexNew] = useState(-1);\n  const [customerIndexListNew, setCustomerIndexListNew] = useState<number[]>([]);\n\n  function addRelease() {\n    if (pkgIndex === -1) {\n      return;\n    }\n    if (!customerIndexList.length) {\n      return;\n    }\n    const releaseFound = releaseList.find((release) => release.pkgIndex === pkgIndex);\n    if (releaseFound) {\n      return;\n    }\n    const index = findEmptyIndex(releaseList.map((release) => release.index));\n    const releaseListNew = [\n      ...releaseList,\n      { index, pkgIndex, customerIndexList },\n    ];\n    onChange(releaseListNew);\n    setPkgIndex(-1);\n    setCustomerIndexList([]);\n  }\n\n  function moveNewer(index: number) {\n    const indexFound = releaseList.findIndex((release) => release.index === index);\n    if (indexFound === -1) {\n      return;\n    }\n    if (indexFound === releaseList.length - 1) {\n      return;\n    }\n    const releaseListNew = [\n      ...releaseList.slice(0, indexFound),\n      releaseList[indexFound + 1],\n      releaseList[indexFound],\n      ...releaseList.slice(indexFound + 2),\n    ];\n    onChange(releaseListNew);\n  }\n\n  function moveOlder(index: number) {\n    const indexFound = releaseList.findIndex((release) => release.index === index);\n    if (indexFound === -1) {\n      return;\n    }\n    if (indexFound === 0) {\n      return;\n    }\n    const releaseListNew = [\n      ...releaseList.slice(0, indexFound - 1),\n      releaseList[indexFound],\n      releaseList[indexFound - 1],\n      ...releaseList.slice(indexFound + 1),\n    ];\n    onChange(releaseListNew);\n  }\n\n  function onClickEdit(index: number) {\n    const releaseFound = releaseList.find((release) => release.index === index);\n    if (!releaseFound) {\n      return;\n    }\n    const { pkgIndex, customerIndexList } = releaseFound;\n    const pkgFound = pkgList.find((pkg) => pkg.index === pkgIndex);\n    if (!pkgFound) {\n      return;\n    }\n    setPkgIndexNew(pkgIndex);\n    setCustomerIndexListNew(customerIndexList);\n    setEditIndex(index);\n  }\n\n  function onSubmitEditRelease() {\n    if (!customerIndexListNew.length) {\n      return;\n    }\n    const releaseFound = releaseList.find((release) => release.index !== editIndex && release.pkgIndex === pkgIndexNew);\n    if (releaseFound) {\n      return;\n    }\n    const indexFound = releaseList.findIndex((release) => release.index === editIndex);\n    if (indexFound === -1) {\n      return;\n    }\n    const releaseListNew = [\n      ...releaseList.slice(0, indexFound),\n      {\n        index: editIndex,\n        pkgIndex: pkgIndexNew,\n        customerIndexList: customerIndexListNew,\n      },\n      ...releaseList.slice(indexFound + 1),\n    ];\n    onChange(releaseListNew);\n    setEditIndex(-1);\n  }\n\n  function removeRelease(index: number) {\n    const indexFound = releaseList.findIndex((release) => release.index === index);\n    if (indexFound === -1) {\n      return;\n    }\n    const releaseListNew = [\n      ...releaseList.slice(0, indexFound),\n      ...releaseList.slice(indexFound + 1),\n    ];\n    onChange(releaseListNew);\n  }\n\n  return (\n    <Table celled compact selectable>\n      <Table.Header>\n        <Table.Row>\n          <Table.HeaderCell>Package</Table.HeaderCell>\n          <Table.HeaderCell rowSpan={2}>Actions</Table.HeaderCell>\n        </Table.Row>\n        <Table.Row>\n          <Table.HeaderCell>Customers</Table.HeaderCell>\n        </Table.Row>\n      </Table.Header>\n      <Table.Body>\n        <Table.Row active>\n          <Table.Cell>\n            <Form>\n              <Form.Field disabled={editIndex !== -1}>\n                <select value={pkgIndex} onChange={(e) => setPkgIndex(+e.target.value)}>\n                  <option value={-1}>Select a package</option>\n                  {\n                    pkgList.map((pkg) => {\n                      const { index, name, lineupIndex } = pkg;\n                      const lineupFound = lineupList.find((lineup) => lineup.index === lineupIndex);\n                      const lineup = `- Lineup: ${lineupFound ? lineupFound.name : '(None)'}`;\n                      return (\n                        <option key={index} value={index}>{name} {lineup}</option>\n                      )\n                    })\n                  }\n                </select>\n              </Form.Field>\n            </Form>\n          </Table.Cell>\n          <Table.Cell rowSpan={2}>\n            <Button icon='plus' size='tiny' onClick={addRelease} disabled={editIndex !== -1} />\n          </Table.Cell>\n        </Table.Row>\n        <Table.Row active>\n          <Table.Cell>\n            <EnumSelector enumList={customerList} selectedIndexList={customerIndexList}\n              onChange={setCustomerIndexList}\n              disabled={editIndex !== -1}\n            />\n          </Table.Cell>\n        </Table.Row>\n        {\n          releaseList.map((release) => {\n            const { index, pkgIndex, customerIndexList }= release;\n            const pkgFound = pkgList.find((pkg) => pkg.index === pkgIndex) as Pkg;\n            const { name, lineupIndex } = pkgFound;\n            const lineupFound = lineupList.find((lineup) => lineup.index === lineupIndex);\n            const lineup = `- Lineup: ${lineupFound ? lineupFound.name : '(None)'}`;\n            return index === editIndex ? (\n              <React.Fragment key={index}>\n                <Table.Row>\n                  <Table.Cell>\n                    <Form>\n                      <Form.Field>\n                        <select value={pkgIndexNew} onChange={(e) => setPkgIndexNew(+e.target.value)}>\n                          {\n                            pkgList.map((pkg) => {\n                              const { index, name, lineupIndex } = pkg;\n                              const lineupFound = lineupList.find((lineup) => lineup.index === lineupIndex);\n                              const lineup = `- Lineup: ${lineupFound ? lineupFound.name : '(None)'}`;\n                              return (\n                                <option key={index} value={index}>{name} {lineup}</option>\n                              )\n                            })\n                          }\n                        </select>\n                      </Form.Field>\n                    </Form>\n                  </Table.Cell>\n                  <Table.Cell rowSpan={2}>\n                    <Button icon='check' size='tiny' onClick={onSubmitEditRelease} />\n                    <Button icon='cancel' size='tiny' onClick={() => setEditIndex(-1)} />\n                  </Table.Cell>\n                </Table.Row>\n                <Table.Row key={`${index}-lower`}>\n                  <Table.Cell>\n                    <EnumSelector enumList={customerList} selectedIndexList={customerIndexListNew}\n                      onChange={setCustomerIndexListNew}\n                    />\n                  </Table.Cell>\n                </Table.Row>\n              </React.Fragment>\n            ) : (\n              <React.Fragment key={index}>\n                <Table.Row>\n                  <Table.Cell>\n                    {name} {lineup}\n                  </Table.Cell>\n                  <Table.Cell rowSpan={2}>\n                    <Button icon='edit' size='tiny' onClick={() => onClickEdit(index)} />\n                    <Button icon='trash' size='tiny' onClick={() => removeRelease(index)} />\n                    <Button icon size='tiny' onClick={() => moveOlder(index)} disabled={editIndex !== -1}>\n                      <Icon name='angle up' />\n                      Older\n                    </Button>\n                    <Button icon size='tiny' onClick={() => moveNewer(index)} disabled={editIndex !== -1}>\n                      <Icon name='angle down' />\n                      Newer\n                    </Button>\n                  </Table.Cell>\n                </Table.Row>\n                <Table.Row>\n                  <Table.Cell>\n                    {\n                      customerList\n                        .filter((customer) => customerIndexList.find((customerIndex) => customer.index === customerIndex) !== undefined)\n                        .map((customer) => customer.name)\n                        .join(', ')\n                    }\n                  </Table.Cell>\n                </Table.Row>\n              </React.Fragment>\n            )\n          })\n        }\n      </Table.Body>\n    </Table>\n  )\n}\n","import { Divider, Header } from \"semantic-ui-react\";\nimport { Change, Enum, Pkg, Release, Version } from \"../types\";\nimport ChangeTable from \"./ChangeTable\";\nimport ReleaseTable from \"./ReleaseTable\";\n\ntype Props = {\n  version: Version;\n  versionList: Version[];\n  lineupList: Enum[];\n  pkgList: Pkg[];\n  customerList: Enum[];\n  onChange: (version: Version) => void;\n};\n\nexport default function VersionComponent({\n  version, versionList, lineupList, pkgList, customerList,\n  onChange,\n}: Props) {\n  const { name, indexPrev, changeList, releaseList } = version;\n  const versionPrevFound = versionList.find((version) => version.index === indexPrev);\n\n  function onChangeChangeList(changeList: Change[]) {\n    const { changeList: changeListOld, ...versionRest } = version;\n    const versionNew = { ...versionRest, changeList };\n    onChange(versionNew);\n  }\n\n  function onChangeReleaseList(releaseList: Release[]) {\n    const { releaseList: releaseListOld, ...versionRest } = version;\n    const versionNew = { ...versionRest, releaseList };\n    onChange(versionNew);\n  }\n\n  return (\n    <>\n      <Divider horizontal>\n        <Header as='h2'>\n          {name}\n          <Header.Subheader>Previous version: {versionPrevFound ? versionPrevFound.name : '(None)'}</Header.Subheader>\n        </Header>\n      </Divider>\n      <Header as='h3'>\n        Releases\n      </Header>\n      <ReleaseTable\n        releaseList={releaseList} lineupList={lineupList} pkgList={pkgList} customerList={customerList}\n        onChange={onChangeReleaseList}\n      />\n      <Header as='h3'>\n        Changes\n      </Header>\n      <ChangeTable\n        changeList={changeList} lineupList={lineupList} customerList={customerList}\n        onChange={onChangeChangeList}\n      />\n    </>\n  );\n}\n","import { useState } from \"react\";\nimport { Button, Form, Icon, Modal, Table, TextArea } from \"semantic-ui-react\";\nimport { Enum, Pkg, Version } from \"../types\";\nimport { findEmptyIndex, publish } from \"../utils\";\nimport VersionComponent from \"./VersionComponent\";\n\ntype Props = {\n  versionList: Version[];\n  onChange: (versionList: Version[]) => void;\n  lineupList: Enum[];\n  pkgList: Pkg[];\n  customerList: Enum[];\n};\n\nexport default function VersionEditor({ versionList, onChange, lineupList, pkgList, customerList }: Props) {\n  const [name, setName] = useState('');\n  const [indexPrev, setIndexPrev] = useState(-1);\n  const [editIndex, setEditIndex] = useState(-1);\n  const [nameNew, setNameNew] = useState('');\n  const [indexPrevNew, setIndexPrevNew] = useState(-1);\n  const [openModal, setOpenModal] = useState(false);\n  const [releaseHistory, setReleaseHistory] = useState('');\n\n  const [index, setIndex] = useState<number>();\n\n  function addVersion() {\n    if (!name) {\n      return;\n    }\n    const versionFound = versionList.find((version) => version.name === name);\n    if (versionFound) {\n      return;\n    }\n    const index = findEmptyIndex(versionList.map((version) => version.index));\n    const versionListNew = [\n      ...versionList,\n      { index, name, indexPrev, changeList: [], releaseList: [] },\n    ];\n    onChange(versionListNew);\n    setName('');\n  }\n\n  function onChangeVersion(version: Version) {\n    const { index } = version;\n    const indexFound = versionList.findIndex((version) => version.index === index);\n    if (indexFound === -1) {\n      return;\n    }\n    const versionListNew = [\n      ...versionList.slice(0, indexFound),\n      version,\n      ...versionList.slice(indexFound + 1),\n    ];\n    onChange(versionListNew);\n  }\n\n  function onClickEdit(index: number) {\n    const versionFound = versionList.find((version) => version.index === index);\n    if (!versionFound) {\n      return;\n    }\n    setNameNew(versionFound.name);\n    setIndexPrevNew(versionFound.indexPrev);\n    setEditIndex(versionFound.index);\n  }\n\n  function onSubmitEditVersion() {\n    if (!nameNew) {\n      return;\n    }\n    const versionFound = versionList.find((version) => version.index !== editIndex && version.name === nameNew);\n    if (versionFound) {\n      return;\n    }\n    const indexFound = versionList.findIndex((version) => version.index === editIndex);\n    if (indexFound === -1) {\n      return;\n    }\n    const { changeList, releaseList } = versionList[indexFound];\n    const versionListNew = [\n      ...versionList.slice(0, indexFound),\n      {\n        index: editIndex,\n        name: nameNew,\n        indexPrev: indexPrevNew,\n        changeList,\n        releaseList,\n      },\n      ...versionList.slice(indexFound + 1),\n    ];\n    onChange(versionListNew);\n    setEditIndex(-1);\n  }\n\n  function onClickPublish(index: number) {\n    const releaseHistory = publish(versionList, index, lineupList, pkgList, customerList);\n    setReleaseHistory(releaseHistory);\n    setOpenModal(true);\n  }\n\n  function removeVersion(index: number) {\n    const indexFound = versionList.findIndex((version) => version.index === index);\n    if (indexFound === -1) {\n      return;\n    }\n    const versionListNew = [\n      ...versionList.slice(0, indexFound),\n      ...versionList.slice(indexFound + 1),\n    ];\n    onChange(versionListNew);\n  }\n\n  const version = index === undefined ? versionList[0] : versionList.find((version) => version.index === index);\n  return (\n    <>\n      <Table celled compact selectable>\n        <Table.Header>\n          <Table.Row>\n            <Table.HeaderCell>Version</Table.HeaderCell>\n            <Table.HeaderCell>Previous version</Table.HeaderCell>\n            <Table.HeaderCell>Actions</Table.HeaderCell>\n          </Table.Row>\n        </Table.Header>\n        <Table.Body>\n          <Table.Row active>\n            <Table.Cell>\n              <Form>\n                <Form.Field disabled={editIndex !== -1}>\n                  <input value={name} onChange={(e) => setName(e.target.value)} />\n                </Form.Field>\n              </Form>\n            </Table.Cell>\n            <Table.Cell>\n              <Form>\n                <Form.Field disabled={editIndex !== -1}>\n                  <select value={indexPrev} onChange={(e) => setIndexPrev(+e.target.value)}>\n                    <option value={-1}>(None)</option>\n                    {\n                      versionList.map((version) => {\n                        const { index, name } = version;\n                        return (\n                          <option key={index} value={index}>{name}</option>\n                        )\n                      })\n                    }\n                  </select>\n                </Form.Field>\n              </Form>\n            </Table.Cell>\n            <Table.Cell>\n              <Button icon='plus' size='tiny' onClick={addVersion} disabled={editIndex !== -1} />\n            </Table.Cell>\n          </Table.Row>\n          {\n            versionList.map((version) => {\n              const { index, name, indexPrev } = version;\n              if (index === editIndex) {\n                return (\n                  <Table.Row key={index}>\n                    <Table.Cell>\n                      <Form>\n                        <Form.Field>\n                          <input value={nameNew} onChange={(e) => setNameNew(e.target.value)} />\n                        </Form.Field>\n                      </Form>\n                    </Table.Cell>\n                    <Table.Cell>\n                      <Form>\n                        <Form.Field>\n                          <select value={indexPrevNew} onChange={(e) => setIndexPrevNew(+e.target.value)}>\n                            <option value={-1}>(None)</option>\n                            {\n                              versionList.map((version) => {\n                                const { index, name } = version;\n                                return (\n                                  <option key={index} value={index} disabled={index === editIndex}>{name}</option>\n                                )\n                              })\n                            }\n                          </select>\n                        </Form.Field>\n                      </Form>\n                    </Table.Cell>\n                    <Table.Cell>\n                      <Button icon='check' size='tiny' onClick={onSubmitEditVersion} />\n                      <Button icon='cancel' size='tiny' onClick={() => setEditIndex(-1)} />\n                    </Table.Cell>\n                  </Table.Row>\n                )\n              }\n              const versionPrevFound = versionList.find((version) => version.index === indexPrev);\n              const namePrev = versionPrevFound ? versionPrevFound.name : '(None)';\n              const versionReferringFound = !!versionList.find((version) => version.indexPrev === index);\n              return (\n                <Table.Row key={index}>\n                  <Table.Cell>\n                    <button className='a-like-button' onClick={() => setIndex(index)}>{name}</button>\n                    </Table.Cell>\n                  <Table.Cell>{namePrev}</Table.Cell>\n                  <Table.Cell>\n                    <Button icon='edit' size='tiny' onClick={() => onClickEdit(index)} />\n                    <Button icon='trash' size='tiny'\n                      disabled={versionReferringFound}\n                      onClick={() => removeVersion(index)}\n                    />\n                    <Button icon='list' size='tiny' onClick={() => onClickPublish(index)} />\n                  </Table.Cell>\n                </Table.Row>\n              )\n            })\n          }\n        </Table.Body>\n      </Table>\n      {\n        version ? (\n          <VersionComponent version={version} versionList={versionList}\n            lineupList={lineupList} pkgList={pkgList} customerList={customerList}\n            onChange={onChangeVersion}\n          />\n        ) : <></>\n      }\n      <Modal open={openModal} onClose={() => setOpenModal(false)}>\n        <Modal.Header>Release history</Modal.Header>\n        <Modal.Content>\n          <Form>\n            <Form.Field>\n              <TextArea value={releaseHistory} rows={24} />\n            </Form.Field>\n          </Form>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button icon size='tiny' onClick={() => navigator.clipboard.writeText(releaseHistory)}>\n            <Icon name='clipboard' />\n            Copy to clipboard\n          </Button>\n        </Modal.Actions>\n      </Modal>\n    </>\n  );\n}\n","import { createRef, useState } from 'react';\nimport 'semantic-ui-css/semantic.min.css';\nimport './App.css';\nimport { Container, Form, Header, Menu, Segment } from 'semantic-ui-react';\nimport EnumTable from './components/EnumTable';\nimport PkgTable from './components/PkgTable';\nimport VersionEditor from './components/VersionEditor';\nimport { Enum, Pkg, Version } from './types';\nimport { load } from './utils';\n\nconst UNTITLED = 'Untitled';\n\nconst PANE_VERSION = 'version';\nconst PANE_LINEUP = 'lineup';\nconst PANE_PACKAGE = 'package';\nconst PANE_CUSTOMER = 'customer';\n\nfunction App() {\n  const refLoad = createRef<HTMLInputElement>();\n  let file: File | undefined;\n  const refSave = createRef<HTMLAnchorElement>();\n  const [featureName, setFeatureName] = useState(UNTITLED);\n  const [versionList, setVersionList] = useState<Version[]>([]);\n  const [lineupList, setLineupList] = useState<Enum[]>([]);\n  const [pkgList, setPkgList] = useState<Pkg[]>([]);\n  const [customerList, setCustomerList] = useState<Enum[]>([]);\n  const [pane, setPane] = useState(PANE_VERSION);\n\n  function onChangeFile(e: React.ChangeEvent<HTMLInputElement>) {\n    const { files } = e.target;\n    if (!files) {\n      return;\n    }\n    file = files[0];\n    if (!file) {\n      return;\n    }\n    reader.readAsText(file);\n  }\n\n  function onClickNew() {\n    setFeatureName(UNTITLED);\n    setVersionList([]);\n    setLineupList([\n      { index: 0, name: '(None)' },\n    ]);\n    setPkgList([]);\n    setCustomerList([]);\n  }\n\n  function onClickSave() {\n    if (refSave.current === null) {\n      return;\n    }\n    const blob = new Blob(\n      [JSON.stringify({ versionList, lineupList, pkgList, customerList })],\n      { type: 'application/json' },\n    );\n    refSave.current.download = `${featureName}.json`;\n    refSave.current.href=window.URL.createObjectURL(blob);\n    refSave.current.click();\n  }\n\n  const reader = new FileReader();\n  reader.onload = (e) => {\n    if (!file) {\n      return;\n    }\n    if (!e.target) {\n      return;\n    }\n    const { result } = e.target;\n    if (result === null || result instanceof ArrayBuffer) {\n      return;\n    }\n    const { name } = file;\n    const indexLast = name.lastIndexOf('.');\n    const featureName = name.substring(0, indexLast);\n    const { versionList, lineupList, pkgList, customerList } = load(result);\n    setFeatureName(featureName);\n    setVersionList(versionList);\n    setLineupList(lineupList);\n    setPkgList(pkgList);\n    setCustomerList(customerList);\n  }\n\n  const usedLineupIndexList = [\n    ...versionList.map((version) => {\n      return version.changeList.map((change) => change.lineupIndex);\n    }).reduce((indexPrevList, indexList) => {\n      return [...indexPrevList, ...indexList];\n    }, []),\n    ...pkgList.map((pkg) => pkg.lineupIndex),\n  ];\n  const usedPkgIndexList = [\n    ...versionList.map((version) => {\n      return version.releaseList.map((release) => release.pkgIndex);\n    }).reduce((indexPrevList, indexList) => {\n      return [...indexPrevList, ...indexList];\n    }, []),\n  ];\n  const usedCustomerIndexList = [\n    ...versionList.map((version) => {\n      return version.changeList.map((change) => change.customerIndexList).reduce((indexListPrev, indexList) => {\n        return [\n          ...indexListPrev,\n          ...indexList,\n        ];\n      }, []);\n    }).reduce((indexPrevList, indexList) => {\n      return [...indexPrevList, ...indexList];\n    }, []),\n    ...versionList.map((version) => {\n      return version.releaseList.map((release) => release.customerIndexList).reduce((indexListPrev, indexList) => {\n        return [\n          ...indexListPrev,\n          ...indexList,\n        ];\n      }, []);\n    }).reduce((indexPrevList, indexList) => {\n      return [...indexPrevList, ...indexList];\n    }, []),\n  ];\n\n  return (\n    <div className=\"App\">\n      <Menu pointing>\n        <Menu.Item onClick={onClickNew}>New</Menu.Item>\n        <Menu.Item>\n          <Form>\n            <Form.Field>\n              <input value={featureName} onChange={(e) => setFeatureName(e.target.value)} />\n            </Form.Field>\n          </Form>\n        </Menu.Item>\n        <Menu.Item onClick={() => refLoad.current?.click()}>\n          Load\n        </Menu.Item>\n        <Menu.Item onClick={() => onClickSave()}>\n          Save\n        </Menu.Item>\n        <Menu.Menu position='right'>\n          <Menu.Item\n            active={pane === PANE_VERSION}\n            onClick={() => setPane(PANE_VERSION)}\n          >\n            Versions\n          </Menu.Item>\n          <Menu.Item\n            active={pane === PANE_LINEUP}\n            onClick={() => setPane(PANE_LINEUP)}\n          >\n            Lineups\n          </Menu.Item>\n          <Menu.Item\n            active={pane === PANE_PACKAGE}\n            onClick={() => setPane(PANE_PACKAGE)}\n          >\n            Packages\n          </Menu.Item>\n          <Menu.Item\n            active={pane === PANE_CUSTOMER}\n            onClick={() => setPane(PANE_CUSTOMER)}\n          >\n            Customers\n          </Menu.Item>\n        </Menu.Menu>\n      </Menu>\n      <input type='file' accept='.json' hidden ref={refLoad} onChange={onChangeFile} />\n      {/* eslint-disable-next-line jsx-a11y/anchor-has-content, jsx-a11y/anchor-is-valid */}\n      <a href='#' ref={refSave} hidden />\n      {\n        pane === PANE_VERSION ? (\n          <Container as={Segment}>\n            <Header as='h1'>Versions</Header>\n            <VersionEditor versionList={versionList} onChange={setVersionList} lineupList={lineupList} pkgList={pkgList} customerList={customerList} />\n          </Container>\n        ) : <></>\n      }\n      {\n        pane === PANE_LINEUP ? (\n          <Container as={Segment}>\n            <Header as='h1'>Lineups</Header>\n            <EnumTable title='Lineup' enumList={lineupList} onChange={setLineupList}\n              usedIndexList={usedLineupIndexList}\n            />\n          </Container>\n        ) : <></>\n      }\n      {\n        pane === PANE_PACKAGE ? (\n          <Container as={Segment}>\n            <Header as='h1'>Packages</Header>\n            <PkgTable pkgList={pkgList} lineupList={lineupList} onChange={setPkgList}\n              usedPkgIndexList={usedPkgIndexList}\n            />\n          </Container>\n        ) : <></>\n      }\n      {\n        pane === PANE_CUSTOMER ? (\n          <Container as={Segment}>\n            <Header as='h1'>Customers</Header>\n            <EnumTable title='Customer' enumList={customerList} onChange={setCustomerList}\n              usedIndexList={usedCustomerIndexList}\n            />\n          </Container>\n        ) : <></>\n      }\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}